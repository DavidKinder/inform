<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>Phrase Definitions</title>
<link href="../docs-assets/Breadcrumbs.css" rel="stylesheet" rev="stylesheet" type="text/css">
		<meta name="viewport" content="width=device-width initial-scale=1">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="Content-Language" content="en-gb">

<link href="../docs-assets/Contents.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Progress.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Navigation.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Fonts.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Base.css" rel="stylesheet" rev="stylesheet" type="text/css">
<script>
MathJax = {
    options: {
    	skipHtmlTags: {'[-]': ['pre']},
    	processHtmlClass: 'mathjax_process'
    },
	loader: {load: ['[tex]/texhtml']},
  	tex: {
		inlineMath: [ ['\\INWEBMATH(', '\\INWEBMATH)'] ],
    	packages: {'[+]': ['texhtml']},
    	allowTexHTML: true
	},
	svg: {
		fontCache: 'global'
	}
};
</script>
<script defer src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-svg.js"></script>

<script src="http://code.jquery.com/jquery-1.12.4.min.js"
	integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>

<script src="../docs-assets/Bigfoot.js"></script>
<link href="../docs-assets/Bigfoot.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Colours.css" rel="stylesheet" rev="stylesheet" type="text/css">
		
	</head>
	<body class="commentary-font">
		<nav role="navigation">
		<h1><a href="../index.html"><img src="../docs-assets/Inform.png" height=72> </a></h1>
<ul><li><a href="../index.html">home</a></li>
</ul><h2>Compiler</h2><ul>
<li><a href="../structure.html">structure</a></li>
<li><a href="../inbuildn.html">inbuild</a></li>
<li><a href="../inform7n.html">inform7</a></li>
<li><a href="../intern.html">inter</a></li>
<li><a href="../services.html">services</a></li>
<li><a href="../secrets.html">secrets</a></li>
</ul><h2>Other Tools</h2><ul>
<li><a href="../inblorbn.html">inblorb</a></li>
<li><a href="../inform6.html">inform6</a></li>
<li><a href="../inpolicyn.html">inpolicy</a></li>
</ul><h2>Resources</h2><ul>
<li><a href="../extensions.html">extensions</a></li>
<li><a href="../kits.html">kits</a></li>
</ul><h2>Repository</h2><ul>
<li><a href="https://github.com/ganelson/inform"><img src="../docs-assets/github.png" height=0> github</a></li>
</ul><h2>Related Projects</h2><ul>
<li><a href="https://github.com/ganelson/inweb"><img src="../docs-assets/github.png" height=0> inweb</a></li>
<li><a href="https://github.com/ganelson/intest"><img src="../docs-assets/github.png" height=0> intest</a></li>
</ul>
		</nav>
		<main role="main">
		<!-- Weave of 'Phrase Definitions' generated by inweb -->
<div class="breadcrumbs">
    <ul class="crumbs"><li><a href="../index.html">Home</a></li><li><a href="../extensions.html">Extensions</a></li><li><a href="index.html">Standard Rules</a></li><li><b>Phrase Definitions</b></li></ul></div>
<p class="purpose">Additional phrases to do with interactive fiction, to add to the much larger collection provided by Basic Inform; and the final sign-off of the Standard Rules extension, including its minimal documentation.</p>

<ul class="toc"><li><a href="phdf.html#SP5">&#167;5. Using the list-writer</a></li><li><a href="phdf.html#SP7">&#167;7. Grouping in the list-writer</a></li><li><a href="phdf.html#SP8">&#167;8. Filtering in the list-writer</a></li><li><a href="phdf.html#SP9">&#167;9. Figures and sound effects</a></li><li><a href="phdf.html#SP10">&#167;10. Actions, activities and rules</a></li><li><a href="phdf.html#SP14">&#167;14. The model world</a></li><li><a href="phdf.html#SP26">&#167;26. Understanding</a></li><li><a href="phdf.html#SP31">&#167;31. Message support</a></li><li><a href="phdf.html#SP32">&#167;32. Deprecated or private-API-like phrases</a></li></ul><hr class="tocbar">

<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP1" class="paragraph-anchor"></a><b>&#167;1. </b>  The following is inevitably a bit of a miscellany. Firstly, there's no
model of the passage of time in Basic Inform, so:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Part Seven - Phrasebook</span>

<span class="plain-syntax">Chapter 1 - Saying</span>

<span class="plain-syntax">Section 1 - Time Values</span>

<span class="plain-syntax">To say (something - time) in words</span>
<span class="plain-syntax">    (documented at phs_timewords):</span>
<span class="plain-syntax">    (- print (PrintTimeOfDayEnglish) {something}; -).</span>
<span class="plain-syntax">To say here</span>
<span class="plain-syntax">    (documented at phs_here):</span>
<span class="plain-syntax">    say "[if story tense is present tense]here[otherwise]there".</span>
<span class="plain-syntax">To say now</span>
<span class="plain-syntax">    (documented at phs_now):</span>
<span class="plain-syntax">    say "[if story tense is present tense]now[otherwise]then".</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP2" class="paragraph-anchor"></a><b>&#167;2. </b>  The ability to put up a dinky reverse-video quotation as an epigraph
has somehow survived for 36 years. The decision to continue to support it
even in Inform 6 was critiqued as being an unnecessary throwback by Jimmy
Maher in 2019; he was clearly right; and yet here we are, and it survives
even the 2020 restructuring of Inform's language design.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 2 - Boxed quotations</span>

<span class="plain-syntax">To display the/-- boxed quotation (Q - text)</span>
<span class="plain-syntax">    (documented at ph_boxed):</span>
<span class="plain-syntax">    (- DisplayBoxedQuotation({-box-quotation-text:Q}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP3" class="paragraph-anchor"></a><b>&#167;3. </b>  And now some oddball special texts which must sometimes be said.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 3 - Some built-in texts</span>

<span class="plain-syntax">To say the/-- banner text</span>
<span class="plain-syntax">    (documented at phs_banner):</span>
<span class="plain-syntax">    (- Banner(); -).</span>
<span class="plain-syntax">To say the/-- list of extension credits</span>
<span class="plain-syntax">    (documented at phs_extcredits):</span>
<span class="plain-syntax">    (- ShowExtensionVersions(); -).</span>
<span class="plain-syntax">To say the/-- complete list of extension credits</span>
<span class="plain-syntax">    (documented at phs_compextcredits):</span>
<span class="plain-syntax">    (- ShowFullExtensionVersions(); -).</span>
<span class="plain-syntax">To say the/-- player's surroundings</span>
<span class="plain-syntax">    (documented at phs_surroundings):</span>
<span class="plain-syntax">    (- SL_Location(true); -).</span>
<span class="plain-syntax">To say run paragraph on with special look spacing -- running on</span>
<span class="plain-syntax">    (documented at phs_runparaonsls):</span>
<span class="plain-syntax">    (- SpecialLookSpacingBreak(); -).</span>
<span class="plain-syntax">To say command clarification break -- running on</span>
<span class="plain-syntax">    (documented at phs_clarifbreak):</span>
<span class="plain-syntax">    (- CommandClarificationBreak(); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP4" class="paragraph-anchor"></a><b>&#167;4. </b>  Recall that this activity exists only in the Standard Rules, and therefore
this phrase definition must similarly be here, not in Basic Inform.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 4 - Responses</span>

<span class="plain-syntax">To say the/-- text of (R - response)</span>
<span class="plain-syntax">    (documented at phs_response):</span>
<span class="plain-syntax">    carry out the issuing the response text activity with R.</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP5" class="paragraph-anchor"></a><b>&#167;5. Using the list-writer.</b>  One of the most powerful features of Inform 6 was its list-writer, a lengthy
piece of I6 code which now lives on as Inter code, in the <code>srules</code> template:
see &quot;ListWriter.i6t&quot;. The following phrases control it:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 5 - Saying lists of things</span>

<span class="plain-syntax">To list the/-- contents of (O - an object),</span>
<span class="plain-syntax">    with newlines,</span>
<span class="plain-syntax">    indented,</span>
<span class="plain-syntax">    giving inventory information,</span>
<span class="plain-syntax">    as a sentence,</span>
<span class="plain-syntax">    including contents,</span>
<span class="plain-syntax">    including all contents,</span>
<span class="plain-syntax">    tersely,</span>
<span class="plain-syntax">    giving brief inventory information,</span>
<span class="plain-syntax">    using the definite article,</span>
<span class="plain-syntax">    listing marked items only,</span>
<span class="plain-syntax">    prefacing with is/are,</span>
<span class="plain-syntax">    not listing concealed items,</span>
<span class="plain-syntax">    suppressing all articles,</span>
<span class="plain-syntax">    with extra indentation,</span>
<span class="plain-syntax">    and/or capitalized</span>
<span class="plain-syntax">    (documented at ph_listcontents):</span>
<span class="plain-syntax">    (- WriteListFrom(child({O}), {phrase options}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP6" class="paragraph-anchor"></a><b>&#167;6. </b>  These text substitutions all look (and are) repetitive. We want to avoid
passing a description value to some routine, because that's tricky if the
description needs to refer to a value local to the current stack frame. (There
are ways round that, but it minimises nuisance to avoid the need.) So we mark
out the set of objects matching by giving them, and only them, the <code>workflag2</code>
attribute.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">To say a list of (OS - description of objects)</span>
<span class="plain-syntax">    (documented at phs_alistof): (-</span>
<span class="plain-syntax">        objectloop({-my:1} ofclass Object)</span>
<span class="plain-syntax">            if ({-matches-description:1:OS})</span>
<span class="plain-syntax">                give {-my:1} workflag2;</span>
<span class="plain-syntax">            else</span>
<span class="plain-syntax">                give {-my:1} ~workflag2;</span>
<span class="plain-syntax">        WriteListOfMarkedObjects(ENGLISH_BIT);</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To say A list of (OS - description of objects)</span>
<span class="plain-syntax">    (documented at phs_Alistof):</span>
<span class="plain-syntax">    (-</span>
<span class="plain-syntax">        objectloop({-my:1} ofclass Object)</span>
<span class="plain-syntax">            if ({-matches-description:1:OS})</span>
<span class="plain-syntax">                give {-my:1} workflag2;</span>
<span class="plain-syntax">            else</span>
<span class="plain-syntax">                give {-my:1} ~workflag2;</span>
<span class="plain-syntax">        TEXT_TY_Say_Capitalised((+ "[list-writer list of marked objects]" +));</span>
<span class="plain-syntax">    -).</span>

<span class="plain-syntax">To say list of (OS - description of objects)</span>
<span class="plain-syntax">    (documented at phs_listof): (-</span>
<span class="plain-syntax">        objectloop({-my:1} ofclass Object)</span>
<span class="plain-syntax">            if ({-matches-description:1:OS})</span>
<span class="plain-syntax">                give {-my:1} workflag2;</span>
<span class="plain-syntax">            else</span>
<span class="plain-syntax">                give {-my:1} ~workflag2;</span>
<span class="plain-syntax">        WriteListOfMarkedObjects(ENGLISH_BIT+NOARTICLE_BIT);</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To say the list of (OS - description of objects)</span>
<span class="plain-syntax">    (documented at phs_thelistof): (-</span>
<span class="plain-syntax">        objectloop({-my:1} ofclass Object)</span>
<span class="plain-syntax">            if ({-matches-description:1:OS})</span>
<span class="plain-syntax">                give {-my:1} workflag2;</span>
<span class="plain-syntax">            else</span>
<span class="plain-syntax">                give {-my:1} ~workflag2;</span>
<span class="plain-syntax">        WriteListOfMarkedObjects(ENGLISH_BIT+DEFART_BIT);</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To say The list of (OS - description of objects)</span>
<span class="plain-syntax">    (documented at phs_Thelistof):</span>
<span class="plain-syntax">    (-</span>
<span class="plain-syntax">        objectloop({-my:1} ofclass Object)</span>
<span class="plain-syntax">            if ({-matches-description:1:OS})</span>
<span class="plain-syntax">                give {-my:1} workflag2;</span>
<span class="plain-syntax">            else</span>
<span class="plain-syntax">                give {-my:1} ~workflag2;</span>
<span class="plain-syntax">        TEXT_TY_Say_Capitalised((+ "[list-writer articled list of marked objects]" +));</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To say is-are a list of (OS - description of objects)</span>
<span class="plain-syntax">    (documented at phs_isalistof): (-</span>
<span class="plain-syntax">        objectloop({-my:1} ofclass Object)</span>
<span class="plain-syntax">            if ({-matches-description:1:OS})</span>
<span class="plain-syntax">                give {-my:1} workflag2;</span>
<span class="plain-syntax">            else</span>
<span class="plain-syntax">                give {-my:1} ~workflag2;</span>
<span class="plain-syntax">        WriteListOfMarkedObjects(ENGLISH_BIT+ISARE_BIT);</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To say is-are list of (OS - description of objects)</span>
<span class="plain-syntax">    (documented at phs_islistof): (-</span>
<span class="plain-syntax">        objectloop({-my:1} ofclass Object)</span>
<span class="plain-syntax">            if ({-matches-description:1:OS})</span>
<span class="plain-syntax">                give {-my:1} workflag2;</span>
<span class="plain-syntax">            else</span>
<span class="plain-syntax">                give {-my:1} ~workflag2;</span>
<span class="plain-syntax">        WriteListOfMarkedObjects(ENGLISH_BIT+ISARE_BIT+NOARTICLE_BIT);</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To say is-are the list of (OS - description of objects)</span>
<span class="plain-syntax">    (documented at phs_isthelistof): (-</span>
<span class="plain-syntax">        objectloop({-my:1} ofclass Object)</span>
<span class="plain-syntax">            if ({-matches-description:1:OS})</span>
<span class="plain-syntax">                give {-my:1} workflag2;</span>
<span class="plain-syntax">            else</span>
<span class="plain-syntax">                give {-my:1} ~workflag2;</span>
<span class="plain-syntax">        WriteListOfMarkedObjects(ENGLISH_BIT+DEFART_BIT+ISARE_BIT);</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To say a list of (OS - description of objects) including contents</span>
<span class="plain-syntax">    (documented at phs_alistofconts): (-</span>
<span class="plain-syntax">        objectloop({-my:1} ofclass Object)</span>
<span class="plain-syntax">            if ({-matches-description:1:OS})</span>
<span class="plain-syntax">                give {-my:1} workflag2;</span>
<span class="plain-syntax">            else</span>
<span class="plain-syntax">                give {-my:1} ~workflag2;</span>
<span class="plain-syntax">        WriteListOfMarkedObjects(ENGLISH_BIT+RECURSE_BIT+PARTINV_BIT+</span>
<span class="plain-syntax">            TERSE_BIT+CONCEAL_BIT);</span>
<span class="plain-syntax">    -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP7" class="paragraph-anchor"></a><b>&#167;7. Grouping in the list-writer.</b>  See the specifications of <code>list_together</code> and <code>c_style</code> in the DM4, which are
still broadly accurate.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 6 - Group in and omit from lists</span>

<span class="plain-syntax">To group (OS - description of objects) together</span>
<span class="plain-syntax">    (documented at ph_group): (-</span>
<span class="plain-syntax">        objectloop({-my:1} provides list_together)</span>
<span class="plain-syntax">            if ({-matches-description:1:OS})</span>
<span class="plain-syntax">                CopyPV({-my:1}.list_together, {-list-together:unarticled});</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To group (OS - description of objects) together giving articles</span>
<span class="plain-syntax">    (documented at ph_groupart): (-</span>
<span class="plain-syntax">        objectloop({-my:1} provides list_together)</span>
<span class="plain-syntax">            if ({-matches-description:1:OS})</span>
<span class="plain-syntax">                CopyPV({-my:1}.list_together, {-list-together:articled});</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To group (OS - description of objects) together as (T - text)</span>
<span class="plain-syntax">    (documented at ph_grouptext): (-</span>
<span class="plain-syntax">        {-my:2} = CreatePV(TEXT_TY);</span>
<span class="plain-syntax">        {-my:2} = TEXT_TY_SubstitutedForm({-my:2}, {-by-reference:T});</span>
<span class="plain-syntax">        objectloop({-my:1} provides list_together)</span>
<span class="plain-syntax">            if ({-matches-description:1:OS})</span>
<span class="plain-syntax">                CopyPV({-my:1}.list_together, {-my:2});</span>
<span class="plain-syntax">        DestroyPV({-my:2});</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To omit contents in listing</span>
<span class="plain-syntax">    (documented at ph_omit):</span>
<span class="plain-syntax">    (- c_style = c_style &amp;~ (RECURSE_BIT+FULLINV_BIT+PARTINV_BIT); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP8" class="paragraph-anchor"></a><b>&#167;8. Filtering in the list-writer.</b>  Something of a last resort, which is intentionally not documented.
It's needed by the Standard Rules to tidy up an implementation and
avoid I6, but is not an ideal trick and may be dropped in later
builds. Recursion occurs when the list-writer descends to the contents
of, or items supported by, something it lists. Here we can restrict to
just those contents, or supportees, matching a description <code>D</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 7 - Filtering contents of lists - Unindexed</span>

<span class="plain-syntax">To filter list recursion to (D - description of objects):</span>
<span class="plain-syntax">    (- list_filter_routine = {D}; -).</span>
<span class="plain-syntax">To unfilter list recursion:</span>
<span class="plain-syntax">    (- list_filter_routine = 0; -).</span>
</pre>
<p class="commentary firstcommentary"><a id="SP9" class="paragraph-anchor"></a><b>&#167;9. Figures and sound effects.</b> </p>

<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Chapter 2 - Multimedia</span>

<span class="plain-syntax">Section 1 - Figures (for figures language element only)</span>

<span class="plain-syntax">To display (F - figure name), one time only</span>
<span class="plain-syntax">    (documented at ph_displayfigure):</span>
<span class="plain-syntax">    (- DisplayFigure(ResourceIDsOfFigures--&gt;{F}, {phrase options}); -).</span>
<span class="plain-syntax">To decide which number is the Glulx resource ID of (F - figure name)</span>
<span class="plain-syntax">    (documented at ph_figureid):</span>
<span class="plain-syntax">    (- ResourceIDsOfFigures--&gt;{F} -).</span>

<span class="plain-syntax">Section 2 - Sound effects (for sounds language element only)</span>

<span class="plain-syntax">To play (SFX - sound name), one time only</span>
<span class="plain-syntax">    (documented at ph_playsf):</span>
<span class="plain-syntax">    (- PlaySound(ResourceIDsOfSounds--&gt;{SFX}, {phrase options}); -).</span>
<span class="plain-syntax">To decide which number is the Glulx resource ID of (SFX - sound name)</span>
<span class="plain-syntax">    (documented at ph_soundid):</span>
<span class="plain-syntax">    (- ResourceIDsOfSounds--&gt;{SFX} -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP10" class="paragraph-anchor"></a><b>&#167;10. Actions, activities and rules.</b>  We begin with the firing off of new actions. The current action runs silently
if the I6 global variable <code>keep_silent</code> is set, so the result of the
definitions below is that one can go into silence mode, using &quot;try silently&quot;,
but not climb out of it again. This is done because many actions try other
actions as part of their normal workings: if we want action \INWEBMATH(X\INWEBMATH) to be tried
silently, then any action \INWEBMATH(X\INWEBMATH) itself tries should also be tried silently.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Chapter 3 - Actions, activities and rules</span>

<span class="plain-syntax">Section 1 - Trying actions</span>

<span class="plain-syntax">To try (S - action)</span>
<span class="plain-syntax">    (documented at ph_try):</span>
<span class="plain-syntax">    (- {-try-action:S} -).</span>
<span class="plain-syntax">To silently try (S - action)</span>
<span class="plain-syntax">    (documented at ph_trysilently):</span>
<span class="plain-syntax">    (- {-try-action-silently:S} -).</span>
<span class="plain-syntax">To try silently (S - action)</span>
<span class="plain-syntax">    (documented at ph_trysilently):</span>
<span class="plain-syntax">    (- {-try-action-silently:S} -).</span>
<span class="plain-syntax">To decide whether the action is not silent:</span>
<span class="plain-syntax">    (- (keep_silent == false) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP11" class="paragraph-anchor"></a><b>&#167;11. </b>  The requirements of the current action can be tested. The following
may be reimplemented using a verb &quot;to require&quot; at some future point.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 2 - Action requirements</span>

<span class="plain-syntax">To decide whether the action requires a/-- touchable noun</span>
<span class="plain-syntax">    (documented at ph_requirestouch):</span>
<span class="plain-syntax">    (- (NeedToTouchNoun()) -).</span>
<span class="plain-syntax">To decide whether the action requires a/-- touchable second noun</span>
<span class="plain-syntax">    (documented at ph_requirestouch2):</span>
<span class="plain-syntax">    (- (NeedToTouchSecondNoun()) -).</span>
<span class="plain-syntax">To decide whether the action requires a/-- carried noun</span>
<span class="plain-syntax">    (documented at ph_requirescarried):</span>
<span class="plain-syntax">    (- (NeedToCarryNoun()) -).</span>
<span class="plain-syntax">To decide whether the action requires a/-- carried second noun</span>
<span class="plain-syntax">    (documented at ph_requirescarried2):</span>
<span class="plain-syntax">    (- (NeedToCarrySecondNoun()) -).</span>
<span class="plain-syntax">To decide whether the action requires light</span>
<span class="plain-syntax">    (documented at ph_requireslight):</span>
<span class="plain-syntax">    (- (NeedLightForAction()) -).</span>
<span class="plain-syntax">To anonymously abide by (RL - a rule)</span>
<span class="plain-syntax">    (documented at ph_abideanon):</span>
<span class="plain-syntax">    (- if (temporary_value = FollowRulebook({RL})) {</span>
<span class="plain-syntax">        if (RulebookSucceeded()) ActRulebookSucceeds(temporary_value);</span>
<span class="plain-syntax">        else ActRulebookFails(temporary_value);</span>
<span class="plain-syntax">        return 2;</span>
<span class="plain-syntax">    } -) - in to only.</span>
<span class="plain-syntax">To anonymously abide by (RL - value of kind K based rule producing a value) for (V - K)</span>
<span class="plain-syntax">    (documented at ph_abideanon):</span>
<span class="plain-syntax">    (- if (temporary_value = FollowRulebook({RL}, {V}, true)) {</span>
<span class="plain-syntax">        if (RulebookSucceeded()) ActRulebookSucceeds(temporary_value);</span>
<span class="plain-syntax">        else ActRulebookFails(temporary_value);</span>
<span class="plain-syntax">        return 2;</span>
<span class="plain-syntax">    } -) - in to only.</span>
<span class="plain-syntax">To anonymously abide by (RL - a nothing based rule)</span>
<span class="plain-syntax">    (documented at ph_abideanon):</span>
<span class="plain-syntax">    (- if (temporary_value = FollowRulebook({RL})) {</span>
<span class="plain-syntax">        if (RulebookSucceeded()) ActRulebookSucceeds(temporary_value);</span>
<span class="plain-syntax">        else ActRulebookFails(temporary_value);</span>
<span class="plain-syntax">        return 2;</span>
<span class="plain-syntax">    } -) - in to only.</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP12" class="paragraph-anchor"></a><b>&#167;12. </b>  Within the rulebooks to do with an action, returning <code>true</code> from a rule
is sufficient to stop the rulebook early: there is no need to specify
success or failure because that is determined by the rulebook itself. (For
instance, if the check taking rules stop for any reason, the action failed;
if the after rules stop, it succeeded.) In some rulebooks, notably &quot;instead&quot;
and &quot;after&quot;, the default is to stop, so that execution reaching the end of
the I6 routine for a rule will run into an <code>rtrue</code>. &quot;Continue the action&quot;
prevents this.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 3 - Stop or continue</span>

<span class="plain-syntax">To stop the/-- action</span>
<span class="plain-syntax">    (documented at ph_stopaction):</span>
<span class="plain-syntax">    (- rtrue; -) - in to only.</span>
<span class="plain-syntax">To continue the/-- action</span>
<span class="plain-syntax">    (documented at ph_continueaction):</span>
<span class="plain-syntax">    (- rfalse; -) - in to only.</span>
</pre>
<p class="commentary firstcommentary"><a id="SP13" class="paragraph-anchor"></a><b>&#167;13. </b> </p>

<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 4 - Actions as values</span>

<span class="plain-syntax">To decide what action is the current action</span>
<span class="plain-syntax">    (documented at ph_currentaction):</span>
<span class="plain-syntax">    (- STORED_ACTION_TY_Current({-new:action}) -).</span>
<span class="plain-syntax">To decide what action is the action of (A - action)</span>
<span class="plain-syntax">    (documented at ph_actionof):</span>
<span class="plain-syntax">    (- {A} -).</span>
<span class="plain-syntax">To decide if (act - a action) involves (X - an object)</span>
<span class="plain-syntax">    (documented at ph_involves):</span>
<span class="plain-syntax">    (- (STORED_ACTION_TY_Involves({-by-reference:act}, {X})) -).</span>
<span class="plain-syntax">To decide what action name is the action name part of (act - a action)</span>
<span class="plain-syntax">    (documented at ph_actionpart):</span>
<span class="plain-syntax">    (- (STORED_ACTION_TY_Part({-by-reference:act}, STORA_ACTION_F)) -).</span>
<span class="plain-syntax">To decide what object is the noun part of (act - a action)</span>
<span class="plain-syntax">    (documented at ph_nounpart):</span>
<span class="plain-syntax">    (- (STORED_ACTION_TY_Part({-by-reference:act}, STORA_NOUN_F)) -).</span>
<span class="plain-syntax">To decide what object is the second noun part of (act - a action)</span>
<span class="plain-syntax">    (documented at ph_secondpart):</span>
<span class="plain-syntax">    (- (STORED_ACTION_TY_Part({-by-reference:act}, STORA_SECOND_F)) -).</span>
<span class="plain-syntax">To decide what object is the actor part of (act - a action)</span>
<span class="plain-syntax">    (documented at ph_actorpart):</span>
<span class="plain-syntax">    (- (STORED_ACTION_TY_Part({-by-reference:act}, STORA_ACTOR_F)) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP14" class="paragraph-anchor"></a><b>&#167;14. The model world.</b>  Phrase definitions with wordings like &quot;the story has ended&quot; are a
necessary evil. The &quot;has&quot; here is parsed literally, not as the present
tense of &quot;to have&quot;, so inflected forms like &quot;the story had ended&quot; are
not available: nor is there any value &quot;the story&quot; for the subject noun
phrase to hold... and so on. Ideally, we would word all conditional phrases
so as to avoid the verbs, but natural language just doesn't work that way.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Chapter 4 - The Model World</span>

<span class="plain-syntax">Section 1 - Ending the story</span>

<span class="plain-syntax">To end the/-- story</span>
<span class="plain-syntax">    (documented at ph_end):</span>
<span class="plain-syntax">    (- deadflag=3; story_complete=false; -).</span>
<span class="plain-syntax">To end the/-- story finally</span>
<span class="plain-syntax">    (documented at ph_endfinally):</span>
<span class="plain-syntax">    (- deadflag=3; story_complete=true; -).</span>
<span class="plain-syntax">To end the/-- story saying (finale - text)</span>
<span class="plain-syntax">    (documented at ph_endsaying):</span>
<span class="plain-syntax">    (- deadflag={-by-reference:finale}; BlkValueIncRefCountPrimitive(deadflag); story_complete=false; -).</span>
<span class="plain-syntax">To end the/-- story finally saying (finale - text)</span>
<span class="plain-syntax">    (documented at ph_endfinallysaying):</span>
<span class="plain-syntax">    (- deadflag={-by-reference:finale}; BlkValueIncRefCountPrimitive(deadflag); story_complete=true; -).</span>
<span class="plain-syntax">To decide whether the story has ended</span>
<span class="plain-syntax">    (documented at ph_ended):</span>
<span class="plain-syntax">    (- (deadflag~=0) -).</span>
<span class="plain-syntax">To decide whether the story has ended finally</span>
<span class="plain-syntax">    (documented at ph_finallyended):</span>
<span class="plain-syntax">    (- (story_complete) -).</span>
<span class="plain-syntax">To decide whether the story has not ended</span>
<span class="plain-syntax">    (documented at ph_notended):</span>
<span class="plain-syntax">    (- (deadflag==0) -).</span>
<span class="plain-syntax">To decide whether the story has not ended finally</span>
<span class="plain-syntax">    (documented at ph_notfinallyended):</span>
<span class="plain-syntax">    (- (story_complete==false) -).</span>
<span class="plain-syntax">To resume the/-- story</span>
<span class="plain-syntax">    (documented at ph_resume):</span>
<span class="plain-syntax">    (- resurrect_please = true; -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP15" class="paragraph-anchor"></a><b>&#167;15. </b>  Times of day.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 2 - Times of day</span>

<span class="plain-syntax">To decide which number is the minutes part of (t - time)</span>
<span class="plain-syntax">    (documented at ph_minspart):</span>
<span class="plain-syntax">    (- ({t}%ONE_HOUR) -).</span>
<span class="plain-syntax">To decide which number is the hours part of (t - time)</span>
<span class="plain-syntax">    (documented at ph_hourspart):</span>
<span class="plain-syntax">    (- ({t}/ONE_HOUR) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP16" class="paragraph-anchor"></a><b>&#167;16. </b>  Comparing times of day is inherently odd, because the day is
circular. Every 2 PM comes after a 1 PM, but it also comes before
another 1 PM. Where do we draw the meridian on this circle? The legal
day divides at midnight but for other purposes (daylight savings time,
for instance) society often chooses 2 AM as the boundary. Inform uses
4 AM instead as the least probable time through which play continues.
(Modulo a 24-hour clock, adding 20 hours is equivalent to subtracting
4 AM from the current time: hence the use of <code>20*ONE_HOUR</code> below.)
Thus 3:59 AM is after 4:00 AM, the former being at the very end of a
day, the latter at the very beginning.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">To decide if (t - time) is before (t2 - time)</span>
<span class="plain-syntax">    (documented at ph_timebefore):</span>
<span class="plain-syntax">    (- ((({t}+20*ONE_HOUR)%(TWENTY_FOUR_HOURS))&lt;(({t2}+20*ONE_HOUR)%(TWENTY_FOUR_HOURS))) -).</span>
<span class="plain-syntax">To decide if (t - time) is after (t2 - time)</span>
<span class="plain-syntax">    (documented at ph_timeafter):</span>
<span class="plain-syntax">    (- ((({t}+20*ONE_HOUR)%(TWENTY_FOUR_HOURS))&gt;(({t2}+20*ONE_HOUR)%(TWENTY_FOUR_HOURS))) -).</span>
<span class="plain-syntax">To decide which time is (t - time period) before (t2 - time)</span>
<span class="plain-syntax">    (documented at ph_shiftbefore):</span>
<span class="plain-syntax">    (- (({t2}-{t}+TWENTY_FOUR_HOURS)%(TWENTY_FOUR_HOURS)) -).</span>
<span class="plain-syntax">To decide which time is (t - time period) after (t2 - time)</span>
<span class="plain-syntax">    (documented at ph_shiftafter):</span>
<span class="plain-syntax">    (- (({t2}+{t}+TWENTY_FOUR_HOURS)%(TWENTY_FOUR_HOURS)) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP17" class="paragraph-anchor"></a><b>&#167;17. </b>  Durations are in effect casts from &quot;number&quot; to &quot;time&quot;.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 3 - Durations</span>

<span class="plain-syntax">To decide which time period is (n - number) minutes</span>
<span class="plain-syntax">    (documented at ph_durationmins):</span>
<span class="plain-syntax">    (- ({n}) -).</span>
<span class="plain-syntax">To decide which time period is (n - number) hours</span>
<span class="plain-syntax">    (documented at ph_durationhours):</span>
<span class="plain-syntax">    (- ({n}*ONE_HOUR) -).</span>
<span class="plain-syntax">To decide which time period is (n - number) hours (m - number) minutes</span>
<span class="plain-syntax">    (documented at ph_durationhours):</span>
<span class="plain-syntax">    (- ({n}*ONE_HOUR + {m}) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP18" class="paragraph-anchor"></a><b>&#167;18. </b>  Timed events.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 4 - Timed events</span>

<span class="plain-syntax">To (R - rule) in (t - number) turn/turns from now</span>
<span class="plain-syntax">    (documented at ph_turnsfromnow):</span>
<span class="plain-syntax">    (- SetTimedEvent({-mark-event-used:R}, {t}+1, 0); -).</span>
<span class="plain-syntax">To (R - rule) at (t - time)</span>
<span class="plain-syntax">    (documented at ph_attime):</span>
<span class="plain-syntax">    (- SetTimedEvent({-mark-event-used:R}, {t}, 1); -).</span>
<span class="plain-syntax">To (R - rule) in (t - time period) from now</span>
<span class="plain-syntax">    (documented at ph_timefromnow):</span>
<span class="plain-syntax">    (- SetTimedEvent({-mark-event-used:R}, (the_time+{t})%(TWENTY_FOUR_HOURS), 1); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP19" class="paragraph-anchor"></a><b>&#167;19. </b>  Scenes.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 5 - Scenes</span>

<span class="plain-syntax">To decide if (sc - scene) has happened</span>
<span class="plain-syntax">    (documented at ph_hashappened):</span>
<span class="plain-syntax">    (- (scene_endings--&gt;({sc}-1)) -).</span>
<span class="plain-syntax">To decide if (sc - scene) has not happened</span>
<span class="plain-syntax">    (documented at ph_hasnothappened):</span>
<span class="plain-syntax">    (- (scene_endings--&gt;({sc}-1) == 0) -).</span>
<span class="plain-syntax">To decide if (sc - scene) has ended</span>
<span class="plain-syntax">    (documented at ph_hasended):</span>
<span class="plain-syntax">    (- (scene_endings--&gt;({sc}-1) &gt; 1) -).</span>
<span class="plain-syntax">To decide if (sc - scene) has not ended</span>
<span class="plain-syntax">    (documented at ph_hasnotended):</span>
<span class="plain-syntax">    (- (scene_endings--&gt;({sc}-1) &lt;= 1) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP20" class="paragraph-anchor"></a><b>&#167;20. </b>  Timing of scenes.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 6 - Timing of scenes</span>

<span class="plain-syntax">To decide which time period is the time since (sc - scene) began</span>
<span class="plain-syntax">    (documented at ph_scenetimesincebegan):</span>
<span class="plain-syntax">    (- (SceneUtility({sc}, 1)) -).</span>
<span class="plain-syntax">To decide which time is the time when (sc - scene) began</span>
<span class="plain-syntax">    (documented at ph_scenetimewhenbegan):</span>
<span class="plain-syntax">    (- (SceneUtility({sc}, 2)) -).</span>
<span class="plain-syntax">To decide which time period is the time since (sc - scene) ended</span>
<span class="plain-syntax">    (documented at ph_scenetimesinceended):</span>
<span class="plain-syntax">    (- (SceneUtility({sc}, 3)) -).</span>
<span class="plain-syntax">To decide which time is the time when (sc - scene) ended</span>
<span class="plain-syntax">    (documented at ph_scenetimewhenended):</span>
<span class="plain-syntax">    (- (SceneUtility({sc}, 4)) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP21" class="paragraph-anchor"></a><b>&#167;21. </b>  Player's identity and location.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 7 - Player's identity and location</span>

<span class="plain-syntax">To decide whether in darkness</span>
<span class="plain-syntax">    (documented at ph_indarkness):</span>
<span class="plain-syntax">    (- (location==thedark) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP22" class="paragraph-anchor"></a><b>&#167;22. </b>  Moving and removing things.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 8 - Moving and removing things</span>

<span class="plain-syntax">To move (something - object) to (something else - object),</span>
<span class="plain-syntax">    without printing a room description</span>
<span class="plain-syntax">    or printing an abbreviated room description</span>
<span class="plain-syntax">    (documented at ph_move):</span>
<span class="plain-syntax">    (- MoveObject({something}, {something else}, {phrase options}, false); -).</span>
<span class="plain-syntax">To remove (something - object) from play</span>
<span class="plain-syntax">    (deprecated)</span>
<span class="plain-syntax">    (documented at ph_remove):</span>
<span class="plain-syntax">    (- RemoveFromPlay({something}); -).</span>
<span class="plain-syntax">To move (O - object) backdrop to all (D - description of objects)</span>
<span class="plain-syntax">    (documented at ph_movebackdrop):</span>
<span class="plain-syntax">    (- MoveBackdrop({O}, {D}); -).</span>
<span class="plain-syntax">To update backdrop positions</span>
<span class="plain-syntax">    (documented at ph_updatebackdrop):</span>
<span class="plain-syntax">    (- MoveFloatingObjects(); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP23" class="paragraph-anchor"></a><b>&#167;23. </b>  The map.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 9 - The map</span>

<span class="plain-syntax">To decide which room is location of (O - object)</span>
<span class="plain-syntax">    (documented at ph_locationof):</span>
<span class="plain-syntax">    (- LocationOf({O}) -).</span>
<span class="plain-syntax">To decide which room is room (D - direction) from/of (R1 - room)</span>
<span class="plain-syntax">    (documented at ph_roomdirof):</span>
<span class="plain-syntax">    (- MapConnection({R1},{D}) -).</span>
<span class="plain-syntax">To decide which door is door (D - direction) from/of (R1 - room)</span>
<span class="plain-syntax">    (documented at ph_doordirof):</span>
<span class="plain-syntax">    (- DoorFrom({R1},{D}) -).</span>
<span class="plain-syntax">To decide which object is the other side of (D - door)</span>
<span class="plain-syntax">    (documented at ph_othersideof):</span>
<span class="plain-syntax">    (- OtherSideOfDoor({D}, location) -).</span>
<span class="plain-syntax">To decide which object is the other side of (D - door) from (R1 - room)</span>
<span class="plain-syntax">    (documented at ph_othersideof):</span>
<span class="plain-syntax">    (- OtherSideOfDoor({D},{R1}) -).</span>
<span class="plain-syntax">To decide which object is the direction of (D - door) from (R1 - room)</span>
<span class="plain-syntax">    (documented at ph_directionofdoor):</span>
<span class="plain-syntax">    (- DirectionDoorLeadsIn({D},{R1}) -).</span>
<span class="plain-syntax">To decide which object is room-or-door (D - direction) from/of (R1 - room)</span>
<span class="plain-syntax">    (documented at ph_roomordoor):</span>
<span class="plain-syntax">    (- RoomOrDoorFrom({R1},{D}) -).</span>
<span class="plain-syntax">To change (D - direction) exit of (R1 - room) to (R2 - room)</span>
<span class="plain-syntax">    (documented at ph_changeexit):</span>
<span class="plain-syntax">    (- AssertMapConnection({R1},{D},{R2}); -).</span>
<span class="plain-syntax">To change (D - direction) exit of (R1 - room) to nothing/nowhere</span>
<span class="plain-syntax">    (documented at ph_changenoexit):</span>
<span class="plain-syntax">    (- AssertMapConnection({R1},{D},nothing); -).</span>
<span class="plain-syntax">To decide which room is the front side of (D - object)</span>
<span class="plain-syntax">    (documented at ph_frontside):</span>
<span class="plain-syntax">    (- FrontSideOfDoor({D}) -).</span>
<span class="plain-syntax">To decide which room is the back side of (D - object)</span>
<span class="plain-syntax">    (documented at ph_backside):</span>
<span class="plain-syntax">    (- BackSideOfDoor({D}) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP24" class="paragraph-anchor"></a><b>&#167;24. </b>  Route-finding.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 10 - Route-finding</span>

<span class="plain-syntax">To decide which object is best route from (R1 - object) to (R2 - object),</span>
<span class="plain-syntax">    using doors or using even locked doors</span>
<span class="plain-syntax">    (documented at ph_bestroute):</span>
<span class="plain-syntax">    (- MapRouteTo({R1},{R2},0,{phrase options}) -).</span>
<span class="plain-syntax">To decide which number is number of moves from (R1 - object) to (R2 - object),</span>
<span class="plain-syntax">    using doors or using even locked doors</span>
<span class="plain-syntax">    (documented at ph_bestroutelength):</span>
<span class="plain-syntax">    (- MapRouteTo({R1},{R2},0,{phrase options},true) -).</span>
<span class="plain-syntax">To decide which object is best route from (R1 - object) to (R2 - object) through</span>
<span class="plain-syntax">    (RS - description of objects),</span>
<span class="plain-syntax">    using doors or using even locked doors</span>
<span class="plain-syntax">    (documented at ph_bestroutethrough):</span>
<span class="plain-syntax">    (- MapRouteTo({R1},{R2},{RS},{phrase options}) -).</span>
<span class="plain-syntax">To decide which number is number of moves from (R1 - object) to (R2 - object) through</span>
<span class="plain-syntax">    (RS - description of objects),</span>
<span class="plain-syntax">    using doors or using even locked doors</span>
<span class="plain-syntax">    (documented at ph_bestroutethroughlength):</span>
<span class="plain-syntax">    (- MapRouteTo({R1},{R2},{RS},{phrase options},true) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP25" class="paragraph-anchor"></a><b>&#167;25. </b>  The object tree.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 11 - The object tree</span>

<span class="plain-syntax">To decide which object is holder of (something - object)</span>
<span class="plain-syntax">    (documented at ph_holder):</span>
<span class="plain-syntax">    (- (HolderOf({something})) -).</span>
<span class="plain-syntax">To decide which object is next thing held after (something - object)</span>
<span class="plain-syntax">    (documented at ph_nextheld):</span>
<span class="plain-syntax">    (- (sibling({something})) -).</span>
<span class="plain-syntax">To decide which object is first thing held by (something - object)</span>
<span class="plain-syntax">    (documented at ph_firstheld):</span>
<span class="plain-syntax">    (- (child({something})) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP26" class="paragraph-anchor"></a><b>&#167;26. Understanding.</b>  First, asking yes/no questions.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Chapter 5 - Understanding</span>

<span class="plain-syntax">Section 1 - Asking yes/no questions</span>

<span class="plain-syntax">To decide whether player consents</span>
<span class="plain-syntax">    (documented at ph_consents):</span>
<span class="plain-syntax">        (- YesOrNo() -).</span>

<span class="plain-syntax">To decide what number is a/-- number chosen by the player from 1 to (N - number)</span>
<span class="plain-syntax">    (documented at ph_numberchosen):</span>
<span class="plain-syntax">        (- NumberChosenByPlayer({N}) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP27" class="paragraph-anchor"></a><b>&#167;27. </b>  Support for snippets, which are substrings of the player's command. This
is a kind of value which doesn't exist in Basic Inform.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 2 - The player's command</span>

<span class="plain-syntax">To decide if (S - a snippet) matches (T - a topic)</span>
<span class="plain-syntax">    (documented at ph_snippetmatches):</span>
<span class="plain-syntax">    (- (SnippetMatches({S}, {T})) -).</span>
<span class="plain-syntax">To decide if (S - a snippet) does not match (T - a topic)</span>
<span class="plain-syntax">    (documented at ph_snippetdoesnotmatch):</span>
<span class="plain-syntax">    (- (SnippetMatches({S}, {T}) == false) -).</span>
<span class="plain-syntax">To decide if (S - a snippet) includes (T - a topic)</span>
<span class="plain-syntax">    (documented at ph_snippetincludes):</span>
<span class="plain-syntax">    (- (matched_text=SnippetIncludes({T},{S})) -).</span>
<span class="plain-syntax">To decide if (S - a snippet) does not include (T - a topic)</span>
<span class="plain-syntax">    (documented at ph_snippetdoesnotinclude):</span>
<span class="plain-syntax">    (- (SnippetIncludes({T},{S})==0) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP28" class="paragraph-anchor"></a><b>&#167;28. </b>  Changing the player's command.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 3 - Changing the player's command</span>

<span class="plain-syntax">To change the text of the/-- player's command to (T - text)</span>
<span class="plain-syntax">    (documented at ph_changecommand):</span>
<span class="plain-syntax">    (- SetPlayersCommand({-by-reference:T}); -).</span>
<span class="plain-syntax">To replace (S - a snippet) with (T - text)</span>
<span class="plain-syntax">    (documented at ph_replacesnippet):</span>
<span class="plain-syntax">    (- SpliceSnippet({S}, {-by-reference:T}); -).</span>
<span class="plain-syntax">To cut (S - a snippet)</span>
<span class="plain-syntax">    (documented at ph_cutsnippet):</span>
<span class="plain-syntax">    (- SpliceSnippet({S}, 0); -).</span>
<span class="plain-syntax">To reject the/-- player's command</span>
<span class="plain-syntax">    (documented at ph_rejectcommand):</span>
<span class="plain-syntax">    (- RulebookFails(); rtrue; -) - in to only.</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP29" class="paragraph-anchor"></a><b>&#167;29. </b>  Scope and pronouns.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 4 - Scope and pronouns</span>

<span class="plain-syntax">To place (O - an object) in scope, but not its contents</span>
<span class="plain-syntax">    (documented at ph_placeinscope):</span>
<span class="plain-syntax">    (- PlaceInScope({O}, {phrase options}); -).</span>
<span class="plain-syntax">To place the/-- contents of (O - an object) in scope</span>
<span class="plain-syntax">    (documented at ph_placecontentsinscope):</span>
<span class="plain-syntax">    (- ScopeWithin({O}); -).</span>
<span class="plain-syntax">To set pronouns from (O - an object)</span>
<span class="plain-syntax">    (documented at ph_setpronouns):</span>
<span class="plain-syntax">    (- PronounNotice({O}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP30" class="paragraph-anchor"></a><b>&#167;30. </b>  The multiple object list is a data structure used in the parser when
processing commands like TAKE ALL.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 5 - The multiple object list</span>

<span class="plain-syntax">To decide what list of objects is the multiple object list</span>
<span class="plain-syntax">    (documented at ph_multipleobjectlist):</span>
<span class="plain-syntax">    (- LIST_OF_TY_Mol({-new:list of objects}) -).</span>
<span class="plain-syntax">To alter the/-- multiple object list to (L - list of objects)</span>
<span class="plain-syntax">    (documented at ph_altermultipleobjectlist):</span>
<span class="plain-syntax">    (- LIST_OF_TY_Set_Mol({-by-reference:L}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP31" class="paragraph-anchor"></a><b>&#167;31. Message support.</b>  &quot;Unindexed&quot; here is a euphemism for &quot;undocumented&quot;. This is where
experimental or intermediate phrases go: things we don't want people
to use because we will probably revise them heavily in later builds of
Inform. For now, the Standard Rules do make use of these phrases, but
nobody else should. They will change without comment in the change
log.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section SR5/8/1 - Message support - Issuance - Unindexed</span>

<span class="plain-syntax">To issue score notification message:</span>
<span class="plain-syntax">    (- NotifyTheScore(); -).</span>
<span class="plain-syntax">To say pronoun dictionary word:</span>
<span class="plain-syntax">    (- print (address) pronoun_word; -).</span>
<span class="plain-syntax">To say recap of command:</span>
<span class="plain-syntax">    (- PrintCommand(); -).</span>
<span class="plain-syntax">The pronoun reference object is an object that varies.</span>
<span class="plain-syntax">The pronoun reference object variable is defined by Inter as "pronoun_obj".</span>

<span class="plain-syntax">To say pronoun i6 dictionary word:</span>
<span class="plain-syntax">    (- print (address) pronoun_word; -).</span>

<span class="plain-syntax">To say parser command so far:</span>
<span class="plain-syntax">    (- PrintCommand(); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP32" class="paragraph-anchor"></a><b>&#167;32. Deprecated or private-API-like phrases.</b>  None of these are part of Inform's public specification, and they should be
used only by extensions built in to Inform; they may change at any time.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Chapter 6 - Deprecated or private phrases - Unindexed</span>

<span class="plain-syntax">Section 1 - Spatial modelling - Unindexed</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP33" class="paragraph-anchor"></a><b>&#167;33. </b>  These are actually sensible concepts in the world model, and could even
be opened to public use, but they're quite complicated to explain.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">To decide which object is the component parts core of (X - an object):</span>
<span class="plain-syntax">    (- CoreOf({X}) -).</span>
<span class="plain-syntax">To decide which object is the common ancestor of (O - an object) with</span>
<span class="plain-syntax">    (P - an object):</span>
<span class="plain-syntax">     (- (CommonAncestor({O}, {P})) -).</span>
<span class="plain-syntax">To decide which object is the not-counting-parts holder of (O - an object):</span>
<span class="plain-syntax">     (- (CoreOfParentOfCoreOf({O})) -).</span>
<span class="plain-syntax">To decide which object is the visibility-holder of (O - object):</span>
<span class="plain-syntax">    (- VisibilityParent({O}) -).</span>
<span class="plain-syntax">To calculate visibility ceiling at low level:</span>
<span class="plain-syntax">    (- FindVisibilityLevels(); -).</span>
<span class="plain-syntax">To decide which object is the touchability ceiling of (O - object):</span>
<span class="plain-syntax">    (- TouchabilityCeiling({O}) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP34" class="paragraph-anchor"></a><b>&#167;34. </b>  These are in effect global variables, but aren't defined as such, to
prevent people using them. Their contents are only very briefly meaningful,
and they would be dangerous friends to know.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">To decide which number is the visibility ceiling count calculated:</span>
<span class="plain-syntax">    (- visibility_levels -).</span>
<span class="plain-syntax">To decide which object is the visibility ceiling calculated:</span>
<span class="plain-syntax">    (- visibility_ceiling -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP35" class="paragraph-anchor"></a><b>&#167;35. </b>  This is a unique quasi-action, using the secondary action processing
stage only. A convenience, but also an anomaly, and let's not encourage
its further use.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 2 - Room descriptions - Unindexed</span>

<span class="plain-syntax">To produce a room description with going spacing conventions:</span>
<span class="plain-syntax">    (- LookAfterGoing(); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP36" class="paragraph-anchor"></a><b>&#167;36. </b>  An ugly little trick needed because of the mismatch between I6 and I7
property implementation, and because of legacy code from the old I6 library.
Please don't touch.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">To print the location's description:</span>
<span class="plain-syntax">    (- PrintOrRun(location, description); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP37" class="paragraph-anchor"></a><b>&#167;37. </b>  The following cries out for an enumerated kind of value, but for historical
reasons it isn't one.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">To decide if set to sometimes abbreviated room descriptions:</span>
<span class="plain-syntax">    (- (lookmode == 1) -).</span>
<span class="plain-syntax">To decide if set to unabbreviated room descriptions:</span>
<span class="plain-syntax">    (- (lookmode == 2) -).</span>
<span class="plain-syntax">To decide if set to abbreviated room descriptions:</span>
<span class="plain-syntax">    (- (lookmode == 3) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP38" class="paragraph-anchor"></a><b>&#167;38. </b>  Action conversion is a trick used in the Standard Rules to simplify the
implementation of actions: it allows one action to become another one
mid-way, without causing spurious action failures. (There are better ways
to make user-defined actions convert, and some of the examples show this.)</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 3 - Action conversion - Unindexed</span>

<span class="plain-syntax">To convert to (AN - an action name) on (O - an object):</span>
<span class="plain-syntax">    (- return GVS_Convert({AN},{O},0); -) - in to only.</span>
<span class="plain-syntax">To convert to (AN - an action name) on (O - an object) with (T - a snippet):</span>
<span class="plain-syntax">    (- return GVS_Convert({AN},{O},{T}); -) - in to only.</span>
<span class="plain-syntax">To convert to request of (X - object) to perform (AN - action name) with</span>
<span class="plain-syntax">    (Y - object) and (Z - object):</span>
<span class="plain-syntax">    (- return ConvertToRequest({X}, {AN}, {Y}, {Z}); -).</span>
<span class="plain-syntax">To convert to special going-with-push action:</span>
<span class="plain-syntax">    (- return ConvertToGoingWithPush(); -).</span>
<span class="plain-syntax">To decide whether the action makes a request:</span>
<span class="plain-syntax">    (- (act_requester) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP39" class="paragraph-anchor"></a><b>&#167;39. </b>  The &quot;surreptitiously&quot; phrases shouldn't be used except in the Standard Rules
because they temporarily violate invariants for the object tree and the
light variables; the SR uses them carefully in situations where it's known to
work out all right.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 4 - Surreptitious violation of invariants - Unindexed</span>

<span class="plain-syntax">To surreptitiously move (something - object) to (something else - object):</span>
<span class="plain-syntax">    (- move {something} to {something else}; -).</span>
<span class="plain-syntax">To surreptitiously move (something - object) to (something else - object) during going:</span>
<span class="plain-syntax">    (- MoveDuringGoing({something}, {something else}); -).</span>
<span class="plain-syntax">To surreptitiously reckon darkness:</span>
<span class="plain-syntax">    (- SilentlyConsiderLight(); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP40" class="paragraph-anchor"></a><b>&#167;40. </b>  These are text substitutions needed to make the capitalised lists work.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 5 - Capitalised list-writing - Unindexed</span>

<span class="plain-syntax">To say list-writer list of marked objects: (-</span>
<span class="plain-syntax">        WriteListOfMarkedObjects(ENGLISH_BIT);</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To say list-writer articled list of marked objects: (-</span>
<span class="plain-syntax">        WriteListOfMarkedObjects(ENGLISH_BIT+DEFART_BIT+CFIRSTART_BIT);</span>
<span class="plain-syntax">    -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP41" class="paragraph-anchor"></a><b>&#167;41. </b>  This avoids &quot;mentioned&quot; being given to items printed only internally for
the sake of a string comparison, and not shown on screen.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 6 - Printing names - Unindexed</span>

<span class="plain-syntax">To decide if expanding text for comparison purposes:</span>
<span class="plain-syntax">    (- say__comp -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP42" class="paragraph-anchor"></a><b>&#167;42. </b>  This is a bit trickier than it looks, because it isn't always set when
one thinks it is. (And since first typing that sentence, I've forgotten
when that would be.)</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 7 - Command parsing - Unindexed</span>

<span class="plain-syntax">To decide whether the I6 parser is running multiple actions:</span>
<span class="plain-syntax">    (- (multiflag==1) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP43" class="paragraph-anchor"></a><b>&#167;43. </b>  The antique forms &quot;yes&quot; and &quot;no&quot; are now somewhat to be regretted, with
&quot;decide yes&quot; and &quot;decide no&quot; being clearer ways to write the same thing.
But we seem to be stuck with them.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 8 - Deprecated Inform - unindexed</span>

<span class="plain-syntax">To yes</span>
<span class="plain-syntax">    (documented at ph_yes):</span>
<span class="plain-syntax">    (- rtrue; -) - in to decide if only.</span>
<span class="plain-syntax">To no</span>
<span class="plain-syntax">    (documented at ph_no):</span>
<span class="plain-syntax">    (- rfalse; -) - in to decide if only.</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP44" class="paragraph-anchor"></a><b>&#167;44. </b>  This is convenient for debugging Inform, but for no other purpose. It
toggles verbose logging of the type-checker.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 9 - Debugging Inform - Unindexed</span>

<span class="plain-syntax">To ***:</span>
<span class="plain-syntax">    (- {-primitive-definition:verbose-checking} -).</span>
<span class="plain-syntax">To *** (T - text):</span>
<span class="plain-syntax">    (- {-primitive-definition:verbose-checking} -).</span>
</pre>
<nav role="progress"><div class="progresscontainer">
    <ul class="progressbar"><li class="progressprev"><a href="cmgr.html">&#10094;</a></li><li class="progresssection"><a href="prmbl.html">prmbl</a></li><li class="progresssection"><a href="pwm.html">pwm</a></li><li class="progresssection"><a href="var.html">var</a></li><li class="progresssection"><a href="dlg.html">dlg</a></li><li class="progresssection"><a href="actvt.html">actvt</a></li><li class="progresssection"><a href="actns.html">actns</a></li><li class="progresssection"><a href="cmgr.html">cmgr</a></li><li class="progresscurrent">phdf</li><li class="progressnextoff">&#10095;</li></ul></div>
</nav><!-- End of weave -->

		</main>
	</body>
</html>

