<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>Phrase Definitions</title>
<link href="../docs-assets/Breadcrumbs.css" rel="stylesheet" rev="stylesheet" type="text/css">
		<meta name="viewport" content="width=device-width initial-scale=1">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="Content-Language" content="en-gb">

<link href="../docs-assets/Contents.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Progress.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Navigation.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Fonts.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Base.css" rel="stylesheet" rev="stylesheet" type="text/css">
<script src="http://code.jquery.com/jquery-1.12.4.min.js"
	integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>

<script src="../docs-assets/Bigfoot.js"></script>
<link href="../docs-assets/Bigfoot.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Colours.css" rel="stylesheet" rev="stylesheet" type="text/css">
		
	</head>
	<body class="commentary-font">
		<nav role="navigation">
		<h1><a href="../index.html"><img src="../docs-assets/Inform.png" height=72> </a></h1>
<ul><li><a href="../index.html">home</a></li>
</ul><h2>Compiler</h2><ul>
<li><a href="../structure.html">structure</a></li>
<li><a href="../inbuildn.html">inbuild</a></li>
<li><a href="../inform7n.html">inform7</a></li>
<li><a href="../intern.html">inter</a></li>
<li><a href="../services.html">services</a></li>
<li><a href="../secrets.html">secrets</a></li>
</ul><h2>Other Tools</h2><ul>
<li><a href="../inblorbn.html">inblorb</a></li>
<li><a href="../inform6.html">inform6</a></li>
<li><a href="../inpolicyn.html">inpolicy</a></li>
</ul><h2>Resources</h2><ul>
<li><a href="../extensions.html">extensions</a></li>
<li><a href="../kits.html">kits</a></li>
</ul><h2>Repository</h2><ul>
<li><a href="https://github.com/ganelson/inform"><img src="../docs-assets/github.png" height=0> github</a></li>
</ul><h2>Related Projects</h2><ul>
<li><a href="https://github.com/ganelson/inweb"><img src="../docs-assets/github.png" height=0> inweb</a></li>
<li><a href="https://github.com/ganelson/intest"><img src="../docs-assets/github.png" height=0> intest</a></li>
</ul>
		</nav>
		<main role="main">
		<!-- Weave of 'Phrase Definitions' generated by inweb -->
<div class="breadcrumbs">
    <ul class="crumbs"><li><a href="../index.html">Home</a></li><li><a href="../extensions.html">Extensions</a></li><li><a href="index.html">Basic Inform</a></li><li><b>Phrase Definitions</b></li></ul></div>
<p class="purpose">The phrases making up the basic Inform language, and in terms of which all other phrases and rules are defined.</p>

<ul class="toc"><li><a href="phdf.html#SP4">&#167;4. Say phrases</a></li><li><a href="phdf.html#SP13">&#167;13. Variables</a></li><li><a href="phdf.html#SP16">&#167;16. Arithmetic</a></li><li><a href="phdf.html#SP22">&#167;22. Control structures</a></li><li><a href="phdf.html#SP31">&#167;31. Values</a></li><li><a href="phdf.html#SP34">&#167;34. Text</a></li><li><a href="phdf.html#SP39">&#167;39. Adaptive text</a></li><li><a href="phdf.html#SP40">&#167;40. Data Structures</a></li><li><a href="phdf.html#SP43">&#167;43. Lists</a></li><li><a href="phdf.html#SP49">&#167;49. Functional Programming</a></li><li><a href="phdf.html#SP51">&#167;51. Rulebooks and Activities</a></li><li><a href="phdf.html#SP55">&#167;55. Basic IO</a></li><li><a href="phdf.html#SP63">&#167;63. External Files</a></li><li><a href="phdf.html#SP66">&#167;66. Use Options</a></li></ul><hr class="tocbar">

<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP1" class="paragraph-anchor"></a><b>&#167;1. </b>  All phrases of the Inform language itself are defined here. The Standard
Rules extension adds more, specialised for interactive fiction creation,
but the bones of the language are here. For example, we will define what
the plus sign will mean, and how Inform should compile &quot;say N in words&quot;,
where N is a number. Inform has no phrase definitions built in, as such;
but it does contain assumptions about control structures such as &quot;say ...&quot;,
&quot;repeat ...&quot;, &quot;let ...&quot;, &quot;otherwise ...&quot; and so on will behave. Those, we
would not be able to redefine in fundamentally different ways. In most
respects, though, we are more or less free to define any language we like.</p>
<p>At first sight, these phrase definitions look little more than simple
transliterations, and this was one source of early criticism of Inform 7.
Phrases appeared to have very simplistic definitions, with the natural
language simply being a verbose description of obviously equivalent C-like
code. However, the simplicity is misleading, because the definitions below
tend to conceal where the complexity of the translation process suddenly
increases. If the preamble includes &quot;(c - condition)&quot;, and the definition
includes the expansion <code>{c}</code>, then the text forming c is translated in a way
much more profound than any simple substitution process could describe.
Type-checking also complicates the code produced below, since Inform
automatically generates the code needed to perform run-time type checking at
any point where doubt remains as to the phrase definition which must be used.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP2" class="paragraph-anchor"></a><b>&#167;2. </b>  Many of these phrases have what are called inline definitions, written
using the <code>(-</code> and <code>-)</code> notation. Non-inline phrases are compiled as
functions, which are then called when they need to be used. For example,
&quot;To say the magic number: say 17.&quot; compiles to a function, and when
another phrase includes the instruction &quot;say the magic number&quot;, that
instruction compiles a call to this function. But an inline phrase
instead generates Inter instructions to do something directly. (That
something may in fact still be just a function call, but not always.)
The Inter code to be generated is expressed by the contents of the
definition between the <code>(-</code> and <code>-)</code> markers, and is written in a
marked-up form of Inform 6 notation. This is much more concise and
readable than if the Inter code were written out longhand, but it may
give the misleading impression that Inform inline definitions can only
produce Inform 6 code. That is not so: they produce Inter code, which
can then be translated as needed.</p>
<p>Most of the definitions here also have annotations to positions in the
main Inform documentation: for example, <code>(documented at phs_s)</code>. This has
no effect on the code compiled, and is used only when Inform generates
certain problem messages; if the source text misuses the phrase, the problem
can then give a reference to the relevant documentation. <code>phs_s</code> is a
typical example of a &quot;documentation token&quot;, and is only a label. See the
source of the Inform documentation for how this markup is done.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP3" class="paragraph-anchor"></a><b>&#167;3. </b>  Unit tests for the phrases below have test case names beginning <code>BIP-</code>,
which stands for &quot;Basic Inform phrase&quot;. In fact, these come in pairs, one for
each virtual machine we customarily generate code to. For example, <code>BIP-Say</code>
tests the &quot;say&quot; phrase for the Z-machine target, and <code>BIP-Say-G</code> does the same
for the Glulx target. But in the commentary below, test cases will be listed
only once.</p>
<p>It follows that running <code>intest -from inform7 BIP-%c+</code> will test all of
these phrases on all platforms, since this regular expression matches all
test case names beginning with &quot;BIP-&quot;.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP4" class="paragraph-anchor"></a><b>&#167;4. Say phrases.</b>  We begin with saying phrases: the very first phrase to exist is the one
printing a single value -- literal text, a number, a time, an object, or
really almost anything, since the vast majority of kinds in Inform are
sayable. There used to be separate definitions for saying text, numbers
and unicode characters here, but they were removed in June 2015 as being
redundant. Though they did no harm, they made some problem messages longer
than necessary by obliging them to cite a longer list of possible readings
of a misread phrase.</p>
<p>The three inline definitions here neatly demonstrate the three sorts of
things which appear inside <code>(-</code> and <code>-)</code>. The definition for &quot;To say s&quot;,
which looks more familiar as the &quot;[s]&quot; text substitution, is straightforwardly
Inform 6 notation. The definition for &quot;To say (something - number) in words&quot;
is I6 notation except for the <code>{something}</code> part in braces: this expands
to the value used by the code causing compilation. For example, if the code
to be compiled is &quot;say 17 in words&quot; then <code>{something}</code> here would expand to
the constant 17. The definition for &quot;To say (val)&quot; is much more complex than
I6 notation could convey, and so a more complex escape notation is needed,
<code>{-say:val:K}</code>, which tells Inform to compile code which will say <code>val</code> with
whatever method is appropriate to its kind <code>K</code>. For documentation on these
escape notations, see the core Inform source code.</p>
<p>The global variable <code>say__n</code> tracks the last number printed. For the &quot;in
words&quot; definition, we need to set it by hand, since Inform doesn't otherwise
realise that number-printing is what we are doing here. For definitions of
functions such as <code>STextSubstitution</code>, see the source for <code>BasicInformKit</code>,
which is also where <code>say__n</code> is defined.</p>
<p>See test case <code>BIP-Say</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Part Three - Phrasebook</span>

<span class="plain-syntax">Chapter 1 - Saying</span>

<span class="plain-syntax">Section 1 - Saying Values</span>

<span class="plain-syntax">To say (val - sayable value of kind K)</span>
<span class="plain-syntax">    (documented at ph_say):</span>
<span class="plain-syntax">    (- {-say:val:K} -).</span>
<span class="plain-syntax">To say (something - number) in words</span>
<span class="plain-syntax">    (documented at phs_numwords):</span>
<span class="plain-syntax">    (- print (number) say__n=({something}); -).</span>
<span class="plain-syntax">To say s</span>
<span class="plain-syntax">    (documented at phs_s):</span>
<span class="plain-syntax">    (- STextSubstitution(); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP5" class="paragraph-anchor"></a><b>&#167;5. </b>  &quot;Showme&quot; is a debugging version of &quot;say&quot; which can print some version of
the value, and the kind, of just about anything.</p>
<p>See test case <code>BIP-Showme</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">To showme (val - value)</span>
<span class="plain-syntax">    (documented at ph_showme):</span>
<span class="plain-syntax">    (- {-show-me:val} -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP6" class="paragraph-anchor"></a><b>&#167;6. </b>  Now some fun with number bases:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">To say (N - a number) in hexadecimal</span>
<span class="plain-syntax">    (documented at phs_inbase):</span>
<span class="plain-syntax">    (- PrintInBase({N}, 16); -).</span>

<span class="plain-syntax">To say (N - a number) in decimal</span>
<span class="plain-syntax">    (documented at phs_inbase):</span>
<span class="plain-syntax">    (- PrintInBase({N}, 10); -).</span>

<span class="plain-syntax">To say (N - a number) in octal</span>
<span class="plain-syntax">    (documented at phs_inbase):</span>
<span class="plain-syntax">    (- PrintInBase({N}, 8); -).</span>

<span class="plain-syntax">To say (N - a number) in binary</span>
<span class="plain-syntax">    (documented at phs_inbase):</span>
<span class="plain-syntax">    (- PrintInBase({N}, 2); -).</span>

<span class="plain-syntax">To say (N - a number) in base (B - a number)</span>
<span class="plain-syntax">    (documented at phs_inbase):</span>
<span class="plain-syntax">    (- PrintInBase({N}, {B}); -).</span>

<span class="plain-syntax">To say (N - a number) in (M - a number) digit/digits</span>
<span class="plain-syntax">    (documented at phs_indigits):</span>
<span class="plain-syntax">    (- PrintInBase({N}, 10, {M}); -).</span>

<span class="plain-syntax">To say (N - a number) in (M - a number) hexadecimal digit/digits</span>
<span class="plain-syntax">    (documented at phs_inbaseindigits):</span>
<span class="plain-syntax">    (- PrintInBase({N}, 16, {M}); -).</span>

<span class="plain-syntax">To say (N - a number) in (M - a number) decimal digit/digits</span>
<span class="plain-syntax">    (documented at phs_inbaseindigits):</span>
<span class="plain-syntax">    (- PrintInBase({N}, 10, {M}); -).</span>

<span class="plain-syntax">To say (N - a number) in (M - a number) octal digit/digits</span>
<span class="plain-syntax">    (documented at phs_inbaseindigits):</span>
<span class="plain-syntax">    (- PrintInBase({N}, 8, {M}); -).</span>

<span class="plain-syntax">To say (N - a number) in (M - a number) binary digit/digits</span>
<span class="plain-syntax">    (documented at phs_inbaseindigits):</span>
<span class="plain-syntax">    (- PrintInBase({N}, 2, {M}); -).</span>

<span class="plain-syntax">To say (N - a number) in (M - a number) base (B - a number) digit/digits</span>
<span class="plain-syntax">    (documented at phs_inbaseindigits):</span>
<span class="plain-syntax">    (- PrintInBase({N}, {B}, {M}); -).</span>

<span class="plain-syntax">To say (N - a number) in unsigned decimal</span>
<span class="plain-syntax">    (documented at phs_inunsigneddecimal):</span>
<span class="plain-syntax">    (- PrintInBase({N}, 10, 1); -).</span>

<span class="plain-syntax">To say (N - a number) in (M - a number) unsigned decimal digit/digits</span>
<span class="plain-syntax">    (documented at phs_inunsigneddecimaldigits):</span>
<span class="plain-syntax">    (- PrintInBase({N}, 10, {M}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP7" class="paragraph-anchor"></a><b>&#167;7. </b>  Objects are the most difficult things to say, because of the elaborate
apparatus for managing their natural-language representations. In particular,
we need to say them with a definite or indefinite article, which can either
be capitalised or not, and as part of that we need to keep track of whether
they are proper nouns; in languages other than English, there are also gender
and case to worry about.</p>
<p>Note that &quot;To say ...&quot; phrases are case sensitive on the first word, so that
&quot;to say a something&quot; and &quot;to say A something&quot; are different.</p>
<p>A curiosity of Inform 6's syntax, arising I think mostly from the need to
save property memory in &quot;Curses&quot; (1993), the work of IF for which Inform 1
had been created, is that it lacks a <code>print (A) ...</code> statement. The omission
is made good by using a routine in the template library instead.</p>
<p>See test case <code>BIP-SayName</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 2 - Saying Names</span>

<span class="plain-syntax">To say a (something - object)</span>
<span class="plain-syntax">    (documented at phs_a):</span>
<span class="plain-syntax">    (- print (a) {something}; -).</span>
<span class="plain-syntax">To say an (something - object)</span>
<span class="plain-syntax">    (documented at phs_a):</span>
<span class="plain-syntax">    (- print (a) {something}; -).</span>
<span class="plain-syntax">To say A (something - object)</span>
<span class="plain-syntax">    (documented at phs_A):</span>
<span class="plain-syntax">    (- CIndefArt({something}); -).</span>
<span class="plain-syntax">To say An (something - object)</span>
<span class="plain-syntax">    (documented at phs_A):</span>
<span class="plain-syntax">    (- CIndefArt({something}); -).</span>
<span class="plain-syntax">To say the (something - object)</span>
<span class="plain-syntax">    (documented at phs_the):</span>
<span class="plain-syntax">    (- print (the) {something}; -).</span>
<span class="plain-syntax">To say The (something - object)</span>
<span class="plain-syntax">    (documented at phs_The):</span>
<span class="plain-syntax">    (- print (The) {something}; -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP8" class="paragraph-anchor"></a><b>&#167;8. </b>  Now some text substitutions which are the equivalent of escape characters.
(In double-quoted I6 text, the notation for a literal quotation mark is a
tilde <code>~</code>.) Note the use of the &quot;-- running on&quot; annotation, which tells Inform
that a text substitution should not cause a new-line.</p>
<p>See test case <code>BIP-SaySpecial</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 3 - Saying Special Characters</span>

<span class="plain-syntax">To say bracket -- running on</span>
<span class="plain-syntax">    (documented at phs_bracket):</span>
<span class="plain-syntax">    (- print "["; -).</span>
<span class="plain-syntax">To say close bracket -- running on</span>
<span class="plain-syntax">    (documented at phs_closebracket):</span>
<span class="plain-syntax">    (- print "]"; -).</span>
<span class="plain-syntax">To say apostrophe/' -- running on</span>
<span class="plain-syntax">    (documented at phs_apostrophe):</span>
<span class="plain-syntax">    (- print "'"; -).</span>
<span class="plain-syntax">To say quotation mark -- running on</span>
<span class="plain-syntax">    (documented at phs_quotemark):</span>
<span class="plain-syntax">    (- print "~"; -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP9" class="paragraph-anchor"></a><b>&#167;9. </b>  For an explanation of the paragraph breaking algorithm, see the template
file &quot;Printing.i6t&quot;.</p>
<p>See test case <code>BIP-SayParagraphing</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 4 - Saying Line and Paragraph Breaks</span>

<span class="plain-syntax">To say line break -- running on</span>
<span class="plain-syntax">    (documented at phs_linebreak):</span>
<span class="plain-syntax">    (- new_line; -).</span>
<span class="plain-syntax">To say no line break -- running on</span>
<span class="plain-syntax">    (documented at phs_nolinebreak):</span>
<span class="plain-syntax">    do nothing.</span>
<span class="plain-syntax">To say conditional paragraph break -- running on</span>
<span class="plain-syntax">    (documented at phs_condparabreak):</span>
<span class="plain-syntax">    (- DivideParagraphPoint(); -).</span>
<span class="plain-syntax">To say paragraph break -- running on</span>
<span class="plain-syntax">    (documented at phs_parabreak):</span>
<span class="plain-syntax">    (- DivideParagraphPoint(); new_line; -).</span>
<span class="plain-syntax">To say run paragraph on -- running on</span>
<span class="plain-syntax">    (documented at phs_runparaon):</span>
<span class="plain-syntax">    (- RunParagraphOn(); -).</span>
<span class="plain-syntax">To decide if a paragraph break is pending</span>
<span class="plain-syntax">    (documented at ph_breakpending):</span>
<span class="plain-syntax">    (- (say__p) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP10" class="paragraph-anchor"></a><b>&#167;10. </b>  Now for &quot;[if ...]&quot;, which expands into a rather assembly-language-like
usage of <code>jump</code> statements, I6's form of goto. For instance, the text
&quot;[if the score is 10]It's ten![otherwise]It's not ten, alas.&quot; compiles
thus:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="reserved-syntax">if</span><span class="plain-syntax"> (~~(</span><span class="identifier-syntax">score</span><span class="plain-syntax"> == </span><span class="constant-syntax">10</span><span class="plain-syntax">)) </span><span class="reserved-syntax">jump</span><span class="plain-syntax"> </span><span class="identifier-syntax">L_Say3</span><span class="plain-syntax">;</span>
<span class="plain-syntax">        ...</span>
<span class="plain-syntax">    </span><span class="reserved-syntax">jump</span><span class="plain-syntax"> </span><span class="identifier-syntax">L_SayX2</span><span class="plain-syntax">; .</span><span class="identifier-syntax">L_Say3</span><span class="plain-syntax">;</span>
<span class="plain-syntax">        ...</span>
<span class="plain-syntax">    .</span><span class="identifier-syntax">L_Say4</span><span class="plain-syntax">; .</span><span class="identifier-syntax">L_SayX2</span><span class="plain-syntax">;</span>
</pre>
<div class="lsmarkdown">
<p>Though labels actually have local namespaces in I6 routines, we use
globally unique labels throughout the whole program: compiling the same
phrase again would involve say labels 5 and 6 and &quot;say exit&quot; label 3.
This example text demonstrates the reason we <code>jump</code> about, rather than
making use of <code>if... else...</code> and bracing groups of statements: it is legal
in I7 either to conclude with or to omit the &quot;[end if]&quot;. (If statements
in I6 compile to jump instructions in any event, and on our virtual
machines there is no speed penalty for branches.) We also need the same
definitions to accommodate what amounts to a switch statement. The trickier
text &quot;[if the score is 10]It's ten![otherwise if the score is 8]It's
eight?[otherwise]It's not ten, alas.&quot; comes out as:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    </span><span class="reserved-syntax">if</span><span class="plain-syntax"> (~~(</span><span class="identifier-syntax">score</span><span class="plain-syntax"> == </span><span class="constant-syntax">10</span><span class="plain-syntax">)) </span><span class="reserved-syntax">jump</span><span class="plain-syntax"> </span><span class="identifier-syntax">L_Say5</span><span class="plain-syntax">;</span>
<span class="plain-syntax">        ...</span>
<span class="plain-syntax">    </span><span class="reserved-syntax">jump</span><span class="plain-syntax"> </span><span class="identifier-syntax">L_SayX3</span><span class="plain-syntax">; .</span><span class="identifier-syntax">L_Say5</span><span class="plain-syntax">; </span><span class="reserved-syntax">if</span><span class="plain-syntax"> (~~(</span><span class="identifier-syntax">score</span><span class="plain-syntax"> == </span><span class="constant-syntax">8</span><span class="plain-syntax">)) </span><span class="reserved-syntax">jump</span><span class="plain-syntax"> </span><span class="identifier-syntax">L_Say6</span><span class="plain-syntax">;</span>
<span class="plain-syntax">        ...</span>
<span class="plain-syntax">    </span><span class="reserved-syntax">jump</span><span class="plain-syntax"> </span><span class="identifier-syntax">L_SayX3</span><span class="plain-syntax">; .</span><span class="identifier-syntax">L_Say6</span><span class="plain-syntax">;</span>
<span class="plain-syntax">        ...</span>
<span class="plain-syntax">    .</span><span class="identifier-syntax">L_Say7</span><span class="plain-syntax">; .</span><span class="identifier-syntax">L_SayX3</span><span class="plain-syntax">;</span>
</pre>
<div class="lsmarkdown">
<p>In either form of the construct, control passes into at most one of the
pieces of text. The terminal labels (the two on the final line) are
automatically generated; often -- when there is a simple &quot;otherwise&quot; or
&quot;end if&quot; to conclude the construct -- they are not needed, but labels are
quick to process in I6, are soon discarded from I6's memory when not needed
any more, and compile no code.</p>
<p>We assume in each case that the next say label number to be free is always
the start of the next block, and that the next say exit label number is always
the one at the end of the current construct. This is true because Inform does
not allow &quot;say if&quot; to be nested.</p>
<p>See test case <code>BIP-SayIf</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 5 - Saying If and Otherwise</span>

<span class="plain-syntax">To say if (c - condition)</span>
<span class="plain-syntax">    (documented at phs_if): (-</span>
<span class="plain-syntax">    if (~~({c})) jump {-label:Say};</span>
<span class="plain-syntax">        -).</span>
<span class="plain-syntax">To say unless (c - condition)</span>
<span class="plain-syntax">    (documented at phs_unless): (-</span>
<span class="plain-syntax">    if ({c}) jump {-label:Say};</span>
<span class="plain-syntax">        -).</span>
<span class="plain-syntax">To say otherwise/else if (c - condition)</span>
<span class="plain-syntax">    (documented at phs_elseif): (-</span>
<span class="plain-syntax">    jump {-label:SayX}; .{-label:Say}{-counter-up:Say}; if (~~({c})) jump {-label:Say};</span>
<span class="plain-syntax">        -).</span>
<span class="plain-syntax">To say otherwise/else unless (c - condition)</span>
<span class="plain-syntax">    (documented at phs_elseunless): (-</span>
<span class="plain-syntax">    jump {-label:SayX}; .{-label:Say}{-counter-up:Say}; if ({c}) jump {-label:Say};</span>
<span class="plain-syntax">        -).</span>
<span class="plain-syntax">To say otherwise</span>
<span class="plain-syntax">    (documented at phs_otherwise): (-</span>
<span class="plain-syntax">    jump {-label:SayX}; .{-label:Say}{-counter-up:Say};</span>
<span class="plain-syntax">        -).</span>
<span class="plain-syntax">To say else</span>
<span class="plain-syntax">    (documented at phs_otherwise): (-</span>
<span class="plain-syntax">    jump {-label:SayX}; .{-label:Say}{-counter-up:Say};</span>
<span class="plain-syntax">        -).</span>
<span class="plain-syntax">To say end if</span>
<span class="plain-syntax">    (documented at phs_endif): (-</span>
<span class="plain-syntax">    .{-label:Say}{-counter-up:Say}; .{-label:SayX}{-counter-up:SayX};</span>
<span class="plain-syntax">        -).</span>
<span class="plain-syntax">To say end unless</span>
<span class="plain-syntax">    (documented at phs_endunless): (-</span>
<span class="plain-syntax">    .{-label:Say}{-counter-up:Say}; .{-label:SayX}{-counter-up:SayX};</span>
<span class="plain-syntax">        -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP11" class="paragraph-anchor"></a><b>&#167;11. </b>  The other control structure: the random variations form of saying. This
part of the Inform design was in effect contributed by the community: it
reimplements a form of Jon Ingold's former extension Text Variations, which
itself built on code going back to the days of I6.</p>
<p>The head phrase has one of the most complicated definitions suppled with
Inform, but is actually documented fairly explicitly in the Extensions chapter
of &quot;Writing with Inform&quot;, so we won't repeat all that here. Essentially it
uses its own allocated cell of storage in an array to remember a state between
uses, and compiles as a switch statement based on the current state.</p>
<p>See test case <code>BIP-SayOneOf</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 6 - Saying one of</span>

<span class="plain-syntax">To say one of -- beginning say_one_of (documented at phs_oneof): (-</span>
<span class="plain-syntax">    {-counter-makes-array:say_one_of}</span>
<span class="plain-syntax">    {-counter-makes-array:say_one_flag}</span>
<span class="plain-syntax">    if ({-counter-storage:say_one_flag}--&gt;{-counter:say_one_flag} == false) {</span>
<span class="plain-syntax">        {-counter-storage:say_one_of}--&gt;{-counter:say_one_of} = {-final-segment-marker}({-counter-storage:say_one_of}--&gt;{-counter:say_one_of}, {-segment-count});</span>
<span class="plain-syntax">        {-counter-storage:say_one_flag}--&gt;{-counter:say_one_flag} = true;</span>
<span class="plain-syntax">    }</span>
<span class="plain-syntax">    if (say__comp == false) {-counter-storage:say_one_flag}--&gt;{-counter:say_one_flag}{-counter-up:say_one_flag} = false;</span>
<span class="plain-syntax">    switch (({-counter-storage:say_one_of}--&gt;{-counter:say_one_of}{-counter-up:say_one_of})%({-segment-count}+1)-1)</span>
<span class="plain-syntax">{-open-brace}</span>
<span class="plain-syntax">        0: -).</span>
<span class="plain-syntax">To say or -- continuing say_one_of (documented at phs_or):</span>
<span class="plain-syntax">    (- {-segment-count}: -).</span>
<span class="plain-syntax">To say at random -- ending say_one_of with marker I7_SOO_RAN (documented at phs_random):</span>
<span class="plain-syntax">    (- {-close-brace} -).</span>
<span class="plain-syntax">To say purely at random -- ending say_one_of with marker I7_SOO_PAR (documented at phs_purelyrandom):</span>
<span class="plain-syntax">    (- {-close-brace} -).</span>
<span class="plain-syntax">To say then at random -- ending say_one_of with marker I7_SOO_TRAN (documented at phs_thenrandom):</span>
<span class="plain-syntax">    (- {-close-brace} -).</span>
<span class="plain-syntax">To say then purely at random -- ending say_one_of with marker I7_SOO_TPAR (documented at phs_thenpurelyrandom):</span>
<span class="plain-syntax">    (- {-close-brace} -).</span>
<span class="plain-syntax">To say sticky random -- ending say_one_of with marker I7_SOO_STI (documented at phs_sticky):</span>
<span class="plain-syntax">    (- {-close-brace} -).</span>
<span class="plain-syntax">To say as decreasingly likely outcomes -- ending say_one_of with marker I7_SOO_TAP (documented at phs_decreasing):</span>
<span class="plain-syntax">    (- {-close-brace} -).</span>
<span class="plain-syntax">To say in random order -- ending say_one_of with marker I7_SOO_SHU (documented at phs_order):</span>
<span class="plain-syntax">    (- {-close-brace} -).</span>
<span class="plain-syntax">To say cycling -- ending say_one_of with marker I7_SOO_CYC (documented at phs_cycling):</span>
<span class="plain-syntax">    (- {-close-brace} -).</span>
<span class="plain-syntax">To say stopping -- ending say_one_of with marker I7_SOO_STOP (documented at phs_stopping):</span>
<span class="plain-syntax">    (- {-close-brace} -).</span>

<span class="plain-syntax">To say first time -- beginning say_first_time (documented at phs_firsttime):</span>
<span class="plain-syntax">    (- {-counter-makes-array:say_first_time}</span>
<span class="plain-syntax">    if ((say__comp == false) &amp;&amp; (({-counter-storage:say_first_time}--&gt;{-counter:say_first_time}{-counter-up:say_first_time})++ == 0)) {-open-brace}</span>
<span class="plain-syntax">        -).</span>
<span class="plain-syntax">To say only -- ending say_first_time (documented at phs_firsttime):</span>
<span class="plain-syntax">    (- {-close-brace} -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP12" class="paragraph-anchor"></a><b>&#167;12. </b>  These are lists in the sense of the &quot;list of&quot; kind of value constructor, and
the first two phrases here might list any values, not just objects.</p>
<p>See test case <code>BIP-SayLists</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 7 - Saying Lists of Values</span>

<span class="plain-syntax">To say (L - a list of values) in brace notation</span>
<span class="plain-syntax">    (documented at phs_listbraced):</span>
<span class="plain-syntax">    (- LIST_OF_TY_Say({-by-reference:L}, 1); -).</span>
<span class="plain-syntax">To say (L - a list of objects) with definite articles</span>
<span class="plain-syntax">    (documented at phs_listdef):</span>
<span class="plain-syntax">    (- LIST_OF_TY_Say({-by-reference:L}, 2); -).</span>
<span class="plain-syntax">To say (L - a list of objects) with indefinite articles</span>
<span class="plain-syntax">    (documented at phs_listindef):</span>
<span class="plain-syntax">    (- LIST_OF_TY_Say({-by-reference:L}, 3); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP13" class="paragraph-anchor"></a><b>&#167;13. Variables.</b>  The &quot;now&quot; phrase can do an extraordinary range of things, and is more or
less a genie granting one wish.</p>
<p>The &quot;whether or not&quot; phrase exists only to convert a condition to a value,
and is needed because I7 does not silently cast from one to the other in
the way that C would.</p>
<p>See test case <code>BIP-Now</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Chapter 2 - Conditions and Variables</span>

<span class="plain-syntax">Section 1 - Conditions</span>

<span class="plain-syntax">To now (cn - condition)</span>
<span class="plain-syntax">    (documented at ph_now):</span>
<span class="plain-syntax">    (- {-make-true:cn} -).</span>
<span class="plain-syntax">To decide what truth state is whether or not (C - condition)</span>
<span class="plain-syntax">    (documented at ph_whether):</span>
<span class="plain-syntax">    (- ({C}) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP14" class="paragraph-anchor"></a><b>&#167;14. </b>  Assignment is probably the most difficult thing the type-checker has to
cope with, since &quot;let&quot; has to work when applied to both unknown names (it
creates a new variable) and existing ones (kind of value permitting). There
are also four different ways to create with &quot;let&quot;, and two to use
existing variables. Note that the &quot;given by&quot; forms are not strictly
speaking assignments at all; the value placed in <code>t</code> is found by solving
the equation <code>Q</code>. This does require special typechecking, but of a
different kind to that requested by &quot;(assignment operation)&quot;. All of which
makes the &quot;To let&quot; section here only slightly shorter than John Galsworthy's
Forsyte novel of the same name.</p>
<p>See test case <code>BIP-Let</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 2 - Assigning Temporary Variables</span>

<span class="plain-syntax">To let (t - nonexisting variable) be (u - value)</span>
<span class="plain-syntax">    (assignment operation)</span>
<span class="plain-syntax">    (documented at ph_let): (-</span>
<span class="plain-syntax">        {-unprotect:t}</span>
<span class="plain-syntax">        {-copy:t:u}</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To let (t - nonexisting variable) be (u - name of kind of value)</span>
<span class="plain-syntax">    (assignment operation)</span>
<span class="plain-syntax">    (documented at ph_letdefault): (-</span>
<span class="plain-syntax">        {-unprotect:t}</span>
<span class="plain-syntax">        {-initialise:t}</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To let (t - nonexisting variable) be (u - description of relations of values</span>
<span class="plain-syntax">    of kind K to values of kind L)</span>
<span class="plain-syntax">    (assignment operation)</span>
<span class="plain-syntax">    (documented at ph_letrelation): (-</span>
<span class="plain-syntax">        {-unprotect:t}</span>
<span class="plain-syntax">        {-initialise:t}</span>
<span class="plain-syntax">        {-now-matches-description:t:u};</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To let (t - nonexisting variable) be given by (Q - equation name)</span>
<span class="plain-syntax">    (documented at ph_letequation): (-</span>
<span class="plain-syntax">        {-unprotect:t}</span>
<span class="plain-syntax">        {-primitive-definition:solve-equation};</span>
<span class="plain-syntax">    -).</span>

<span class="plain-syntax">To let (t - existing variable) be (u - value)</span>
<span class="plain-syntax">    (assignment operation)</span>
<span class="plain-syntax">    (documented at ph_let): (-</span>
<span class="plain-syntax">        {-copy:t:u}</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To let (t - existing variable) be given by (Q - equation name)</span>
<span class="plain-syntax">    (documented at ph_letequation): (-</span>
<span class="plain-syntax">        {-primitive-definition:solve-equation};</span>
<span class="plain-syntax">    -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP15" class="paragraph-anchor"></a><b>&#167;15. </b>  It is not explicit in the following definitions that Inform should typecheck
that the values held by these storage objects can be incremented or decremented
(as an object, say, cannot, but a number can): Inform nevertheless contains
code which does this.</p>
<p>See test case <code>BIP-Increase</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 3 - Increase and Decrease</span>

<span class="plain-syntax">To increase (S - storage) by (w - value)</span>
<span class="plain-syntax">    (assignment operation)</span>
<span class="plain-syntax">    (documented at ph_increase): (-</span>
<span class="plain-syntax">        {-copy:S:+w};</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To decrease (S - storage) by (w - value)</span>
<span class="plain-syntax">    (assignment operation)</span>
<span class="plain-syntax">    (documented at ph_decrease): (-</span>
<span class="plain-syntax">        {-copy:S:-w};</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To increment (S - storage)</span>
<span class="plain-syntax">    (documented at ph_increment): (-</span>
<span class="plain-syntax">        {-copy:S:+};</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To decrement (S - storage)</span>
<span class="plain-syntax">    (documented at ph_decrement): (-</span>
<span class="plain-syntax">        {-copy:S:-};</span>
<span class="plain-syntax">    -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP16" class="paragraph-anchor"></a><b>&#167;16. Arithmetic.</b>  There are nine arithmetic operations, internally numbered 0 upwards, and
given verbal forms below. These are handled unusually in the type-checker
because they need to be more polymorphic than most phrases: Inform uses
dimension-checking to determine the kind of value resulting. (Thus a
height times a number is another height, and so on.)</p>
<p>The totalling code (12) is not structly to do with arithmetic in the same
way, but it's needed to flag the phrase for the Inform typechecker's special
attention.</p>
<p>See test case <code>BIP-ArithmeticOperations</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Chapter 2 - Arithmetic</span>

<span class="plain-syntax">Section 1 - Arithmetic Operations</span>

<span class="plain-syntax">To decide which arithmetic value is (X - arithmetic value) + (Y - arithmetic value)</span>
<span class="plain-syntax">    (arithmetic operation 0)</span>
<span class="plain-syntax">    (documented at ph_plus):</span>
<span class="plain-syntax">    (- ({-arithmetic-operation:X:Y}) -).</span>
<span class="plain-syntax">To decide which arithmetic value is (X - arithmetic value) plus (Y - arithmetic value)</span>
<span class="plain-syntax">    (arithmetic operation 0)</span>
<span class="plain-syntax">    (documented at ph_plus):</span>
<span class="plain-syntax">    (- ({-arithmetic-operation:X:Y}) -).</span>
<span class="plain-syntax">To decide which arithmetic value is (X - arithmetic value) - (Y - arithmetic value)</span>
<span class="plain-syntax">    (arithmetic operation 1)</span>
<span class="plain-syntax">    (documented at ph_minus):</span>
<span class="plain-syntax">    (- ({-arithmetic-operation:X:Y}) -).</span>
<span class="plain-syntax">To decide which arithmetic value is (X - arithmetic value) minus (Y - arithmetic value)</span>
<span class="plain-syntax">    (arithmetic operation 1)</span>
<span class="plain-syntax">    (documented at ph_minus):</span>
<span class="plain-syntax">    (- ({-arithmetic-operation:X:Y}) -).</span>
<span class="plain-syntax">To decide which arithmetic value is (X - arithmetic value) * (Y - arithmetic value)</span>
<span class="plain-syntax">    (arithmetic operation 2)</span>
<span class="plain-syntax">    (documented at ph_times):</span>
<span class="plain-syntax">    (- ({-arithmetic-operation:X:Y}) -).</span>
<span class="plain-syntax">To decide which arithmetic value is (X - arithmetic value) times (Y - arithmetic value)</span>
<span class="plain-syntax">    (arithmetic operation 2)</span>
<span class="plain-syntax">    (documented at ph_times):</span>
<span class="plain-syntax">    (- ({-arithmetic-operation:X:Y}) -).</span>
<span class="plain-syntax">To decide which arithmetic value is (X - arithmetic value) multiplied by (Y - arithmetic value)</span>
<span class="plain-syntax">    (arithmetic operation 2)</span>
<span class="plain-syntax">    (documented at ph_times):</span>
<span class="plain-syntax">    (- ({-arithmetic-operation:X:Y}) -).</span>
<span class="plain-syntax">To decide which arithmetic value is (X - arithmetic value) / (Y - arithmetic value)</span>
<span class="plain-syntax">    (arithmetic operation 3)</span>
<span class="plain-syntax">    (documented at ph_divide):</span>
<span class="plain-syntax">    (- ({-arithmetic-operation:X:Y}) -).</span>
<span class="plain-syntax">To decide which arithmetic value is (X - arithmetic value) divided by (Y - arithmetic value)</span>
<span class="plain-syntax">    (arithmetic operation 3)</span>
<span class="plain-syntax">    (documented at ph_divide):</span>
<span class="plain-syntax">    (- ({-arithmetic-operation:X:Y}) -).</span>
<span class="plain-syntax">To decide which arithmetic value is remainder after dividing (X - arithmetic value)</span>
<span class="plain-syntax">    by (Y - arithmetic value)</span>
<span class="plain-syntax">    (arithmetic operation 4)</span>
<span class="plain-syntax">    (documented at ph_remainder):</span>
<span class="plain-syntax">    (- ({-arithmetic-operation:X:Y}) -).</span>
<span class="plain-syntax">To decide which arithmetic value is (X - arithmetic value) to the nearest (Y - arithmetic value)</span>
<span class="plain-syntax">    (arithmetic operation 5)</span>
<span class="plain-syntax">    (documented at ph_nearest):</span>
<span class="plain-syntax">    (- ({-arithmetic-operation:X:Y}) -).</span>
<span class="plain-syntax">To decide which arithmetic value is the square root of (X - arithmetic value)</span>
<span class="plain-syntax">    (arithmetic operation 6)</span>
<span class="plain-syntax">    (documented at ph_squareroot):</span>
<span class="plain-syntax">    (- ({-arithmetic-operation:X}) -).</span>
<span class="plain-syntax">To decide which arithmetic value is the cube root of (X - arithmetic value)</span>
<span class="plain-syntax">    (arithmetic operation 8)</span>
<span class="plain-syntax">    (documented at ph_cuberoot):</span>
<span class="plain-syntax">    (- ({-arithmetic-operation:X}) -).</span>
<span class="plain-syntax">To decide which arithmetic value is total (p - arithmetic value valued property)</span>
<span class="plain-syntax">    of (S - description of values)</span>
<span class="plain-syntax">    (arithmetic operation 12)</span>
<span class="plain-syntax">    (documented at ph_total):</span>
<span class="plain-syntax">    (- {-primitive-definition:total-of} -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP17" class="paragraph-anchor"></a><b>&#167;17. </b>  Real numbers are not available in the Z-machine, but they are likely to
be available everywhere else, i.e., on any other platform Inform may target
in future.</p>
<p>See test case <code>BIP-SayRealNumbers-G</code>, which has no Z-machine counterpart.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 2 - Saying Real Numbers (not for Z-machine)</span>

<span class="plain-syntax">To say (R - a real number) to (N - number) decimal places</span>
<span class="plain-syntax">    (documented at phs_realplaces):</span>
<span class="plain-syntax">    (- Float({R}, {N}); -).</span>
<span class="plain-syntax">To say (R - a real number) in decimal notation</span>
<span class="plain-syntax">    (documented at phs_decimal):</span>
<span class="plain-syntax">    (- FloatDec({R}); -).</span>
<span class="plain-syntax">To say (R - a real number) to (N - number) decimal places in decimal notation</span>
<span class="plain-syntax">    (documented at phs_decimalplaces):</span>
<span class="plain-syntax">    (- FloatDec({R}, {N}); -).</span>
<span class="plain-syntax">To say (R - a real number) in scientific notation</span>
<span class="plain-syntax">    (documented at phs_scientific):</span>
<span class="plain-syntax">    (- FloatExp({R}); -).</span>
<span class="plain-syntax">To say (R - a real number) to (N - number) decimal places in scientific notation</span>
<span class="plain-syntax">    (documented at phs_scientificplaces):</span>
<span class="plain-syntax">    (- FloatExp({R}, {N}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP18" class="paragraph-anchor"></a><b>&#167;18. </b>  A number of miscellaneous mathematical functions follow, for real
numbers only; these are tested as part of <code>BIP-ArithmeticOperations-G</code>,
already mentioned above. Note that we do not need to define real versions
of addition, multiplication and so on: the above definitions are polymorphic
enough to have done that already.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 3 - Real Arithmetic (not for Z-machine)</span>

<span class="plain-syntax">To decide which real number is the reciprocal of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_reciprocal):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Reciprocal({R}) -).</span>
<span class="plain-syntax">To decide which real number is the absolute value of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_absolutevalue)</span>
<span class="plain-syntax">    (this is the abs function):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Abs({R}) -).</span>
<span class="plain-syntax">To decide which real number is the real square root of (R - a real number)</span>
<span class="plain-syntax">    (arithmetic operation 7)</span>
<span class="plain-syntax">    (documented at ph_realsquareroot)</span>
<span class="plain-syntax">    (this is the root function inverse to rsqr):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Root({R}) -).</span>
<span class="plain-syntax">To decide which real number is the real square of (R - a real number)</span>
<span class="plain-syntax">    (this is the rsqr function inverse to root):</span>
<span class="plain-syntax">    let x be given by x = R^2 where x is a real number;</span>
<span class="plain-syntax">    decide on x.</span>
<span class="plain-syntax">To decide which real number is the ceiling of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_ceiling)</span>
<span class="plain-syntax">    (this is the ceiling function):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Ceiling({R}) -).</span>
<span class="plain-syntax">To decide which real number is the floor of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_floor)</span>
<span class="plain-syntax">    (this is the floor function):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Floor({R}) -).</span>
<span class="plain-syntax">To decide which number is (R - a real number) to the/-- nearest whole number</span>
<span class="plain-syntax">    (documented at ph_nearestwholenumber)</span>
<span class="plain-syntax">    (this is the int function):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_to_NUMBER_TY({R}) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP19" class="paragraph-anchor"></a><b>&#167;19. </b>  And these are tested in <code>BIP-Exponentials-G</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 4 - Exponential Functions (not for Z-machine)</span>

<span class="plain-syntax">To decide which real number is the natural/-- logarithm of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_logarithm)</span>
<span class="plain-syntax">    (this is the log function inverse to exp):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Log({R}) -).</span>
<span class="plain-syntax">To decide which real number is the logarithm to base (N - a number) of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_logarithmto):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_BLog({R}, {N}) -).</span>
<span class="plain-syntax">To decide which real number is the exponential of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_exp)</span>
<span class="plain-syntax">    (this is the exp function inverse to log):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Exp({R}) -).</span>
<span class="plain-syntax">To decide which real number is (R - a real number) to the power (P - a real number)</span>
<span class="plain-syntax">    (documented at ph_power):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Pow({R}, {P}) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP20" class="paragraph-anchor"></a><b>&#167;20. </b>  And these are tested in <code>BIP-Trigonometry-G</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 5 - Trigonometric Functions (not for Z-machine)</span>

<span class="plain-syntax">To decide which real number is (R - a real number) degrees</span>
<span class="plain-syntax">    (documented at ph_degrees):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Times({R}, $+0.0174532925) -).</span>

<span class="plain-syntax">To decide which real number is the sine of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_sine)</span>
<span class="plain-syntax">    (this is the sin function inverse to arcsin):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Sin({R}) -).</span>
<span class="plain-syntax">To decide which real number is the cosine of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_cosine)</span>
<span class="plain-syntax">    (this is the cos function inverse to arccos):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Cos({R}) -).</span>
<span class="plain-syntax">To decide which real number is the tangent of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_tangent)</span>
<span class="plain-syntax">    (this is the tan function inverse to arctan):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Tan({R}) -).</span>
<span class="plain-syntax">To decide which real number is the arcsine of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_arcsine)</span>
<span class="plain-syntax">    (this is the arcsin function inverse to sin):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Arcsin({R}) -).</span>
<span class="plain-syntax">To decide which real number is the arccosine of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_arccosine)</span>
<span class="plain-syntax">    (this is the arccos function inverse to cos):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Arccos({R}) -).</span>
<span class="plain-syntax">To decide which real number is the arctangent of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_arctangent)</span>
<span class="plain-syntax">    (this is the arctan function inverse to tan):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Arctan({R}) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP21" class="paragraph-anchor"></a><b>&#167;21. </b>  And these are tested in <code>BIP-Hyperbolics-G</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 6 - Trigonometric Functions (not for Z-machine)</span>

<span class="plain-syntax">To decide which real number is the hyperbolic sine of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_hyperbolicsine)</span>
<span class="plain-syntax">    (this is the sinh function inverse to arcsinh):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Sinh({R}) -).</span>
<span class="plain-syntax">To decide which real number is the hyperbolic cosine of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_hyperboliccosine)</span>
<span class="plain-syntax">    (this is the cosh function inverse to arccosh):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Cosh({R}) -).</span>
<span class="plain-syntax">To decide which real number is the hyperbolic tangent of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_hyperbolictangent)</span>
<span class="plain-syntax">    (this is the tanh function inverse to arctanh):</span>
<span class="plain-syntax">    (- REAL_NUMBER_TY_Tanh({R}) -).</span>
<span class="plain-syntax">To decide which real number is the hyperbolic arcsine of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_hyperbolicarcsine)</span>
<span class="plain-syntax">    (this is the arcsinh function inverse to sinh):</span>
<span class="plain-syntax">    let x be given by x = log(R + root(R^2 + 1)) where x is a real number;</span>
<span class="plain-syntax">    decide on x.</span>
<span class="plain-syntax">To decide which real number is the hyperbolic arccosine of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_hyperbolicarccosine)</span>
<span class="plain-syntax">    (this is the arccosh function inverse to cosh):</span>
<span class="plain-syntax">    let x be given by x = log(R + root(R^2 - 1)) where x is a real number;</span>
<span class="plain-syntax">    decide on x.</span>
<span class="plain-syntax">To decide which real number is the hyperbolic arctangent of (R - a real number)</span>
<span class="plain-syntax">    (documented at ph_hyperbolicarctangent)</span>
<span class="plain-syntax">    (this is the arctanh function inverse to tanh):</span>
<span class="plain-syntax">    let x be given by x = 0.5*(log(1+R) - log(1-R)) where x is a real number;</span>
<span class="plain-syntax">    decide on x.</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP22" class="paragraph-anchor"></a><b>&#167;22. Control structures.</b>  The term &quot;control structure&quot; conjures up the thought of conditionals and loops,
and we'll get to those, but we'll begin with the equivalent of the C language's
<code>return</code> statement: ending a function call with some value as an outcome.
Inform calls this &quot;deciding&quot; something, since in Inform programs functions
returning values are usually quite functional: that is, their point is what
value they return, rather than the side-effects of what they did.</p>
<p>Note that returning a value has to invoke the type-checker to ensure that
the return value matches the kind of value expected. This certainly rejects
the phrase if it's used in a definition which isn't meant to be deciding
a value at all, so an &quot;in... only&quot; clause is not needed.</p>
<p>The IF-form of Inform allows the antique syntaxes &quot;yes&quot; and &quot;no&quot; as
synonyms for &quot;decide yes&quot; and &quot;decide no&quot;; these are not present in Basic
Inform, and are defined in the Standard Rules (and only to keep old source
text working).</p>
<p>See test case <code>BIP-Decide</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Chapter 3 - Control</span>

<span class="plain-syntax">Section 1 - Deciding Outcomes</span>

<span class="plain-syntax">To decide yes</span>
<span class="plain-syntax">    (documented at ph_yes):</span>
<span class="plain-syntax">    (- rtrue; -) - in to decide if only.</span>
<span class="plain-syntax">To decide no</span>
<span class="plain-syntax">    (documented at ph_no):</span>
<span class="plain-syntax">    (- rfalse; -) - in to decide if only.</span>

<span class="plain-syntax">To stop (documented at ph_stop):</span>
<span class="plain-syntax">    (- rtrue; -) - in to only.</span>

<span class="plain-syntax">To decide on (something - value)</span>
<span class="plain-syntax">    (documented at ph_decideon):</span>
<span class="plain-syntax">    (- return {-return-value:something}; -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP23" class="paragraph-anchor"></a><b>&#167;23. </b>  While &quot;unless&quot; is supposed to be exactly like &quot;if&quot; but with the reversed
sense of the condition, that isn't quite true. For example, there is no
&quot;unless ... then ...&quot;: logical it might be, English it is not.</p>
<p>The switch form of &quot;if&quot; is subtly different, and here again &quot;unless&quot; is
not allowed in its place.</p>
<p>As with some other control structures, the definitions here are somewhat
partial, and made up for by direct code in the compiler. (There's a limit to
how much a general syntax for phrases can encode control phrases.)</p>
<p>See test case <code>BIP-If</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 2 - If and Unless</span>

<span class="plain-syntax">To if (c - condition) begin -- end conditional</span>
<span class="plain-syntax">    (documented at ph_if):</span>
<span class="plain-syntax">    (- {c}  -).</span>
<span class="plain-syntax">To unless (c - condition) begin -- end conditional</span>
<span class="plain-syntax">    (documented at ph_unless):</span>
<span class="plain-syntax">    (- (~~{c})  -).</span>
<span class="plain-syntax">To if (V - value) is begin -- end conditional</span>
<span class="plain-syntax">    (documented at ph_switch):</span>
<span class="plain-syntax">    (-  -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP24" class="paragraph-anchor"></a><b>&#167;24. </b>  &quot;Do nothing&quot; is a curious feature for a high-level programming language (C,
for example, does not have a NOP function); it entered Inform in the earliest
days, when it was useful mainly when natural language syntax had painted users
into a corner. (In the examples, it used to be used when conditions were
awkward to negate -- if condition, do nothing, otherwise blah blah blah -- but
the creation of &quot;unless&quot; made it possible to remove most of the &quot;do
nothing&quot;s.) It is now hardly ever useful.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">To do nothing (documented at ph_nothing):</span>
<span class="plain-syntax">    (- ; -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP25" class="paragraph-anchor"></a><b>&#167;25. </b>  After all that, the while loop is simplicity itself. Perhaps the presence
of &quot;unless&quot; for &quot;if&quot; argues for a similarly negated form, &quot;until&quot; for
&quot;while&quot;, but users haven't yet petitioned for this.</p>
<p>See test case <code>BIP-Loops</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 3 - While and Repeat</span>

<span class="plain-syntax">To while (c - condition) begin -- end loop</span>
<span class="plain-syntax">    (documented at ph_while):</span>
<span class="plain-syntax">    (- while {c}  -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP26" class="paragraph-anchor"></a><b>&#167;26. </b>  The repeat loop looks like a single construction, but isn't, because the
range can be given in four fundamentally different ways (and the loop variable
then has a different kind of value accordingly). First, the equivalents of
BASIC's <code>for</code> loop and of Inform 6's <code>objectloop</code>, respectively:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">To repeat with (loopvar - nonexisting K variable)</span>
<span class="plain-syntax">    running from (v - arithmetic value of kind K) to (w - K) begin -- end loop</span>
<span class="plain-syntax">    (documented at ph_repeat):</span>
<span class="plain-syntax">        (- for ({loopvar}={v}: {loopvar}&lt;={w}: {loopvar}++)  -).</span>
<span class="plain-syntax">To repeat with (loopvar - nonexisting K variable)</span>
<span class="plain-syntax">    running from (v - enumerated value of kind K) to (w - K) begin -- end loop</span>
<span class="plain-syntax">    (documented at ph_repeat):</span>
<span class="plain-syntax">        (- for ({loopvar}={v}: {loopvar}&lt;={w}: {loopvar}={-next-routine:K}({loopvar}))  -).</span>
<span class="plain-syntax">To repeat with (loopvar - nonexisting K variable)</span>
<span class="plain-syntax">    running through (OS - description of values of kind K) begin -- end loop</span>
<span class="plain-syntax">    (documented at ph_runthrough):</span>
<span class="plain-syntax">        (- {-primitive-definition:repeat-through} -).</span>
<span class="plain-syntax">To repeat with (loopvar - nonexisting object variable)</span>
<span class="plain-syntax">    running through (L - list of values) begin -- end loop</span>
<span class="plain-syntax">    (documented at ph_repeatlist):</span>
<span class="plain-syntax">        (- {-primitive-definition:repeat-through-list} -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP27" class="paragraph-anchor"></a><b>&#167;27. </b>  The following are all repeats where the range is the set of rows of a table,
taken in some order, and the repeat variable -- though it does exist -- is
never specified since the relevant row is instead the one selected during
each iteration of the loop.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">To repeat through (T - table name) begin -- end loop</span>
<span class="plain-syntax">    (documented at ph_repeattable): (-</span>
<span class="plain-syntax">        @push {-my:ct_0}; @push {-my:ct_1};</span>
<span class="plain-syntax">        for ({-my:1}={T}, {-my:2}=1, ct_0={-my:1}, ct_1={-my:2}:</span>
<span class="plain-syntax">            {-my:2}&lt;=TableRows({-my:1}):</span>
<span class="plain-syntax">            {-my:2}++, ct_0={-my:1}, ct_1={-my:2})</span>
<span class="plain-syntax">            if (TableRowIsBlank(ct_0, ct_1)==false)</span>
<span class="plain-syntax">                {-block}</span>
<span class="plain-syntax">        @pull {-my:ct_1}; @pull {-my:ct_0};</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To repeat through (T - table name) in reverse order begin -- end loop</span>
<span class="plain-syntax">    (documented at ph_repeattablereverse): (-</span>
<span class="plain-syntax">        @push {-my:ct_0}; @push {-my:ct_1};</span>
<span class="plain-syntax">        for ({-my:1}={T}, {-my:2}=TableRows({-my:1}), ct_0={-my:1}, ct_1={-my:2}:</span>
<span class="plain-syntax">            {-my:2}&gt;=1:</span>
<span class="plain-syntax">            {-my:2}--, ct_0={-my:1}, ct_1={-my:2})</span>
<span class="plain-syntax">            if (TableRowIsBlank(ct_0, ct_1)==false)</span>
<span class="plain-syntax">                {-block}</span>
<span class="plain-syntax">        @pull {-my:ct_1}; @pull {-my:ct_0};</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To repeat through (T - table name) in (TC - table column) order begin -- end loop</span>
<span class="plain-syntax">    (documented at ph_repeattablecol): (-</span>
<span class="plain-syntax">        @push {-my:ct_0}; @push {-my:ct_1};</span>
<span class="plain-syntax">        for ({-my:1}={T}, {-my:2}=TableNextRow({-my:1}, {TC}, 0, 1), ct_0={-my:1}, ct_1={-my:2}:</span>
<span class="plain-syntax">            {-my:2}~=0:</span>
<span class="plain-syntax">            {-my:2}=TableNextRow({-my:1}, {TC}, {-my:2}, 1), ct_0={-my:1}, ct_1={-my:2})</span>
<span class="plain-syntax">                {-block}</span>
<span class="plain-syntax">        @pull {-my:ct_1}; @pull {-my:ct_0};</span>
<span class="plain-syntax">    -).</span>
<span class="plain-syntax">To repeat through (T - table name) in reverse (TC - table column) order begin -- end loop</span>
<span class="plain-syntax">    (documented at ph_repeattablecolreverse): (-</span>
<span class="plain-syntax">        @push {-my:ct_0}; @push {-my:ct_1};</span>
<span class="plain-syntax">        for ({-my:1}={T}, {-my:2}=TableNextRow({-my:1}, {TC}, 0, -1), ct_0={-my:1}, ct_1={-my:2}:</span>
<span class="plain-syntax">            {-my:2}~=0:</span>
<span class="plain-syntax">            {-my:2}=TableNextRow({-my:1}, {TC}, {-my:2}, -1), ct_0={-my:1}, ct_1={-my:2})</span>
<span class="plain-syntax">                {-block}</span>
<span class="plain-syntax">        @pull {-my:ct_1}; @pull {-my:ct_0};</span>
<span class="plain-syntax">    -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP28" class="paragraph-anchor"></a><b>&#167;28. </b>  And this loops through the lines of a text file stored internally.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">To repeat with (loopvar - nonexisting text variable)</span>
<span class="plain-syntax">    running through (F - internal file) begin -- end loop:</span>
<span class="plain-syntax">    (-</span>
<span class="plain-syntax">        for ({-my:1} = InternalFileIO_Line({-by-reference:loopvar}, {F}): {-my:1}:</span>
<span class="plain-syntax">            {-my:1} = InternalFileIO_Line({-by-reference:loopvar}, {F}))</span>
<span class="plain-syntax">            {-block}</span>
<span class="plain-syntax">    -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP29" class="paragraph-anchor"></a><b>&#167;29. </b>  The equivalent of <code>break</code> or <code>continue</code> in C or I6, or of <code>last</code> or <code>next</code>
in Perl. Here &quot;in loop&quot; means &quot;in any of the forms of while or repeat&quot;.</p>
<p>See test case <code>BIP-Break</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 4 - Loop Flow</span>

<span class="plain-syntax">To break -- in loop</span>
<span class="plain-syntax">    (documented at ph_break):</span>
<span class="plain-syntax">    (- {-primitive-definition:break} -).</span>
<span class="plain-syntax">To next -- in loop</span>
<span class="plain-syntax">    (documented at ph_next):</span>
<span class="plain-syntax">    (- continue; -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP30" class="paragraph-anchor"></a><b>&#167;30. </b>  The following innocent-looking definition throws a problem message if the
RTP label is not (a) literal text and (b) the leafname of a Markdown file
(once <code>.md</code> has been added) in the <code>RTPs</code> subdirectory of the current
extension directory: it can only be used from with a directory-format extension.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 5 - Run-Time Problems</span>

<span class="plain-syntax">To issue the run-time problem (pcode - text):</span>
<span class="plain-syntax">    (- IssueRTP({-rtp-code: pcode}, -1, {-rtp-location: pcode}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP31" class="paragraph-anchor"></a><b>&#167;31. Values.</b>  Some of the things we can do with enumerations, others being listed under
randomness below.</p>
<p>See test case <code>BIP-Enumerations</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Chapter 4 - Values</span>

<span class="plain-syntax">Section 1 - Enumerations</span>

<span class="plain-syntax">To decide which number is number of (S - description of values)</span>
<span class="plain-syntax">    (documented at ph_numberof):</span>
<span class="plain-syntax">    (- {-primitive-definition:number-of} -).</span>
<span class="plain-syntax">To decide what number is the numerical value of (X - enumerated value)</span>
<span class="plain-syntax">    (documented at ph_numericalvalue):</span>
<span class="plain-syntax">    (- {X} -).</span>
<span class="plain-syntax">To decide what number is the sequence number of (X - enumerated value of kind K)</span>
<span class="plain-syntax">    (documented at ph_sequencenumber):</span>
<span class="plain-syntax">    (- {-indexing-routine:K}({X}) -).</span>
<span class="plain-syntax">To decide which K is (name of kind of enumerated value K) after (X - K)</span>
<span class="plain-syntax">    (documented at ph_enumafter):</span>
<span class="plain-syntax">    (- {-next-routine:K}({X}) -).</span>
<span class="plain-syntax">To decide which K is (name of kind of enumerated value K) before (X - K)</span>
<span class="plain-syntax">    (documented at ph_enumbefore):</span>
<span class="plain-syntax">    (- {-previous-routine:K}({X}) -).</span>
<span class="plain-syntax">To decide which K is the first value of (name of kind of enumerated value K)</span>
<span class="plain-syntax">    (documented at ph_enumfirst):</span>
<span class="plain-syntax">    decide on the default value of K.</span>
<span class="plain-syntax">To decide which K is the last value of (name of kind of enumerated value K)</span>
<span class="plain-syntax">    (documented at ph_enumlast):</span>
<span class="plain-syntax">    decide on K before the default value of K.</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP32" class="paragraph-anchor"></a><b>&#167;32. </b>  Random numbers and random items chosen from sets of objects matching a
given description (&quot;a random closed door&quot;).</p>
<p>See test case <code>BIP-Randomness</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 2 - Randomness</span>

<span class="plain-syntax">To decide which K is a/-- random (S - description of values of kind K)</span>
<span class="plain-syntax">    (documented at ph_randomdesc):</span>
<span class="plain-syntax">    (- {-primitive-definition:random-of} -).</span>
<span class="plain-syntax">To decide which K is a random (name of kind of arithmetic value K) between (first value - K) and (second value - K)</span>
<span class="plain-syntax">    (documented at ph_randombetween):</span>
<span class="plain-syntax">    (- {-ranger-routine:K}({first value}, {second value}) -).</span>
<span class="plain-syntax">To decide which K is a random (name of kind of arithmetic value K) from (first value - K) to (second value - K)</span>
<span class="plain-syntax">    (documented at ph_randombetween):</span>
<span class="plain-syntax">    (- {-ranger-routine:K}({first value}, {second value}) -).</span>
<span class="plain-syntax">To decide which K is a random (name of kind of enumerated value K) between (first value - K) and (second value - K)</span>
<span class="plain-syntax">    (documented at ph_randombetween):</span>
<span class="plain-syntax">    (- {-ranger-routine:K}({first value}, {second value}) -).</span>
<span class="plain-syntax">To decide which K is a random (name of kind of enumerated value K) from (first value - K) to (second value - K)</span>
<span class="plain-syntax">    (documented at ph_randombetween):</span>
<span class="plain-syntax">    (- {-ranger-routine:K}({first value}, {second value}) -).</span>
<span class="plain-syntax">To decide whether a random chance of (N - number) in (M - number) succeeds</span>
<span class="plain-syntax">    (documented at ph_randomchance):</span>
<span class="plain-syntax">    (- (GenerateRandomNumber(1, {M}) &lt;= {N}) -).</span>
<span class="plain-syntax">To seed the random-number generator with (N - number)</span>
<span class="plain-syntax">    (documented at ph_seed):</span>
<span class="plain-syntax">    (- VM_Seed_RNG({N}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP33" class="paragraph-anchor"></a><b>&#167;33. </b>  A novel feature of Inform is that there is a default value of any kind: for
example, it is 0 for a number, or the empty text for text. When Inform compiles
a value of a given kind but isn't told what value to compile, it always
chooses the default, which is why the following definition works.</p>
<p>See test case <code>BIP-DefaultValues</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 3 - Default Values</span>

<span class="plain-syntax">To decide what K is the default value of (V - name of kind of value of kind K)</span>
<span class="plain-syntax">    (documented at ph_defaultvalue):</span>
<span class="plain-syntax">    (- {-new:K} -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP34" class="paragraph-anchor"></a><b>&#167;34. Text.</b>  Inform programs swim in a sea of texts, and most of the ways to make text
involve substitutions; so phrases to manipulate text are nice to have, but
are bonuses rather than being the essentials.</p>
<p>As repetitive as the following is, it's much simpler and less prone to
possible namespace trouble if we don't define kinds of value for the different
structural levels of text (character, word, punctuated word, etc.).</p>
<p>See test case <code>BIP-Texts</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Chapter 5 - Text</span>

<span class="plain-syntax">Section 1 - Breaking down text</span>

<span class="plain-syntax">To decide what number is the number of characters in (T - text)</span>
<span class="plain-syntax">    (documented at ph_numchars):</span>
<span class="plain-syntax">    (- TEXT_TY_BlobAccess({-by-reference:T}, CHR_BLOB) -).</span>
<span class="plain-syntax">To decide what number is the number of words in (T - text)</span>
<span class="plain-syntax">    (documented at ph_numwords):</span>
<span class="plain-syntax">    (- TEXT_TY_BlobAccess({-by-reference:T}, WORD_BLOB) -).</span>
<span class="plain-syntax">To decide what number is the number of punctuated words in (T - text)</span>
<span class="plain-syntax">    (documented at ph_numpwords):</span>
<span class="plain-syntax">    (- TEXT_TY_BlobAccess({-by-reference:T}, PWORD_BLOB) -).</span>
<span class="plain-syntax">To decide what number is the number of unpunctuated words in (T - text)</span>
<span class="plain-syntax">    (documented at ph_numupwords):</span>
<span class="plain-syntax">    (- TEXT_TY_BlobAccess({-by-reference:T}, UWORD_BLOB) -).</span>
<span class="plain-syntax">To decide what number is the number of lines in (T - text)</span>
<span class="plain-syntax">    (documented at ph_numlines):</span>
<span class="plain-syntax">    (- TEXT_TY_BlobAccess({-by-reference:T}, LINE_BLOB) -).</span>
<span class="plain-syntax">To decide what number is the number of paragraphs in (T - text)</span>
<span class="plain-syntax">    (documented at ph_numparas):</span>
<span class="plain-syntax">    (- TEXT_TY_BlobAccess({-by-reference:T}, PARA_BLOB) -).</span>

<span class="plain-syntax">To decide what text is character number (N - a number) in (T - text)</span>
<span class="plain-syntax">    (documented at ph_charnum):</span>
<span class="plain-syntax">    (- TEXT_TY_GetBlob({-new:text}, {-by-reference:T}, {N}, CHR_BLOB) -).</span>
<span class="plain-syntax">To decide what text is word number (N - a number) in (T - text)</span>
<span class="plain-syntax">    (documented at ph_wordnum):</span>
<span class="plain-syntax">    (- TEXT_TY_GetBlob({-new:text}, {-by-reference:T}, {N}, WORD_BLOB) -).</span>
<span class="plain-syntax">To decide what text is punctuated word number (N - a number) in (T - text)</span>
<span class="plain-syntax">    (documented at ph_pwordnum):</span>
<span class="plain-syntax">    (- TEXT_TY_GetBlob({-new:text}, {-by-reference:T}, {N}, PWORD_BLOB) -).</span>
<span class="plain-syntax">To decide what text is unpunctuated word number (N - a number) in (T - text)</span>
<span class="plain-syntax">    (documented at ph_upwordnum):</span>
<span class="plain-syntax">    (- TEXT_TY_GetBlob({-new:text}, {-by-reference:T}, {N}, UWORD_BLOB) -).</span>
<span class="plain-syntax">To decide what text is line number (N - a number) in (T - text)</span>
<span class="plain-syntax">    (documented at ph_linenum):</span>
<span class="plain-syntax">    (- TEXT_TY_GetBlob({-new:text}, {-by-reference:T}, {N}, LINE_BLOB) -).</span>
<span class="plain-syntax">To decide what text is paragraph number (N - a number) in (T - text)</span>
<span class="plain-syntax">    (documented at ph_paranum):</span>
<span class="plain-syntax">    (- TEXT_TY_GetBlob({-new:text}, {-by-reference:T}, {N}, PARA_BLOB) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP35" class="paragraph-anchor"></a><b>&#167;35. </b>  The &quot;substituted form of&quot; is a technicality most Inform users never need to
think about; as a one-off phrase, it may as well go here.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">To decide what text is the substituted form of (T - text)</span>
<span class="plain-syntax">    (documented at ph_subform):</span>
<span class="plain-syntax">    (- TEXT_TY_SubstitutedForm({-new:text}, {-by-reference:T}) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP36" class="paragraph-anchor"></a><b>&#167;36. </b>  A common matching engine is used for matching plain text...</p>
<p>See test case <code>BIP-TextReplacement</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 2 - Matching and Replacing</span>

<span class="plain-syntax">To decide if (T - text) exactly matches the/-- text (find - text),</span>
<span class="plain-syntax">    case insensitively</span>
<span class="plain-syntax">    (documented at ph_exactlymatches):</span>
<span class="plain-syntax">    (- TEXT_TY_Replace_RE(CHR_BLOB,{-by-reference:T},{-by-reference:find},0,{phrase options},1) -).</span>
<span class="plain-syntax">To decide if (T - text) matches the/-- text (find - text),</span>
<span class="plain-syntax">    case insensitively</span>
<span class="plain-syntax">    (documented at ph_matches):</span>
<span class="plain-syntax">    (- TEXT_TY_Replace_RE(CHR_BLOB,{-by-reference:T},{-by-reference:find},0,{phrase options}) -).</span>
<span class="plain-syntax">To decide what number is number of times (T - text) matches the/-- text</span>
<span class="plain-syntax">    (find - text), case insensitively</span>
<span class="plain-syntax">    (documented at ph_nummatches):</span>
<span class="plain-syntax">    (- TEXT_TY_Replace_RE(CHR_BLOB,{-by-reference:T},{-by-reference:find},1,{phrase options}) -).</span>

<span class="plain-syntax">To replace the text (find - text) in (T - text) with (replace - text),</span>
<span class="plain-syntax">    case insensitively</span>
<span class="plain-syntax">    (documented at ph_replace):</span>
<span class="plain-syntax">    (- TEXT_TY_Replace_RE(CHR_BLOB, {-lvalue-by-reference:T}, {-by-reference:find},</span>
<span class="plain-syntax">        {-by-reference:replace}, {phrase options}); -).</span>
<span class="plain-syntax">To replace the word (find - text) in (T - text) with</span>
<span class="plain-syntax">    (replace - text)</span>
<span class="plain-syntax">    (documented at ph_replacewordin):</span>
<span class="plain-syntax">    (- TEXT_TY_ReplaceText(WORD_BLOB, {-lvalue-by-reference:T}, {-by-reference:find}, {-by-reference:replace}); -).</span>
<span class="plain-syntax">To replace the punctuated word (find - text) in (T - text)</span>
<span class="plain-syntax">    with (replace - text)</span>
<span class="plain-syntax">    (documented at ph_replacepwordin):</span>
<span class="plain-syntax">    (- TEXT_TY_ReplaceText(PWORD_BLOB, {-lvalue-by-reference:T}, {-by-reference:find}, {-by-reference:replace}); -).</span>

<span class="plain-syntax">To replace character number (N - a number) in (T - text)</span>
<span class="plain-syntax">    with (replace - text)</span>
<span class="plain-syntax">    (documented at ph_replacechar):</span>
<span class="plain-syntax">    (- TEXT_TY_ReplaceBlob(CHR_BLOB, {-lvalue-by-reference:T}, {N}, {-by-reference:replace}); -).</span>
<span class="plain-syntax">To replace word number (N - a number) in (T - text)</span>
<span class="plain-syntax">    with (replace - text)</span>
<span class="plain-syntax">    (documented at ph_replaceword):</span>
<span class="plain-syntax">    (- TEXT_TY_ReplaceBlob(WORD_BLOB, {-lvalue-by-reference:T}, {N}, {-by-reference:replace}); -).</span>
<span class="plain-syntax">To replace punctuated word number (N - a number) in (T - text)</span>
<span class="plain-syntax">    with (replace - text)</span>
<span class="plain-syntax">    (documented at ph_replacepword):</span>
<span class="plain-syntax">    (- TEXT_TY_ReplaceBlob(PWORD_BLOB, {-lvalue-by-reference:T}, {N}, {-by-reference:replace}); -).</span>
<span class="plain-syntax">To replace unpunctuated word number (N - a number) in (T - text)</span>
<span class="plain-syntax">    with (replace - text)</span>
<span class="plain-syntax">    (documented at ph_replaceupword):</span>
<span class="plain-syntax">    (- TEXT_TY_ReplaceBlob(UWORD_BLOB, {-lvalue-by-reference:T}, {N}, {-by-reference:replace}); -).</span>
<span class="plain-syntax">To replace line number (N - a number) in (T - text) with (replace - text)</span>
<span class="plain-syntax">    (documented at ph_replaceline):</span>
<span class="plain-syntax">    (- TEXT_TY_ReplaceBlob(LINE_BLOB, {-lvalue-by-reference:T}, {N}, {-by-reference:replace}); -).</span>
<span class="plain-syntax">To replace paragraph number (N - a number) in (T - text) with (replace - text)</span>
<span class="plain-syntax">    (documented at ph_replacepara):</span>
<span class="plain-syntax">    (- TEXT_TY_ReplaceBlob(PARA_BLOB, {-lvalue-by-reference:T}, {N}, {-by-reference:replace}); -).</span>
<span class="plain-syntax">To decide what number is the first index of text match</span>
<span class="plain-syntax">    (documented at ph_textfirstindex):</span>
<span class="plain-syntax">    (- (match0_idx2 ~= 0) * (match0_idx + 1) -).</span>
<span class="plain-syntax">To decide what number is the last index of text match</span>
<span class="plain-syntax">    (documented at ph_textlastindex):</span>
<span class="plain-syntax">    (- match0_idx2 -).</span>
<span class="plain-syntax">To decide what number is the length of text match</span>
<span class="plain-syntax">    (documented at ph_textlength):</span>
<span class="plain-syntax">    (- (match0_idx2 - match0_idx) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP37" class="paragraph-anchor"></a><b>&#167;37. </b>  ...and for regular expressions, though here we also have access to the
exact text which matched (not interesting in the plain text case since it's
the same as the search text, up to case at least), and the values of matched
subexpressions (which the plain text case doesn't have).</p>
<p>See test case <code>BIP-RegExp</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 3 - Regular Expressions</span>

<span class="plain-syntax">To decide if (T - text) exactly matches the/-- regular expression (find - text),</span>
<span class="plain-syntax">    case insensitively</span>
<span class="plain-syntax">    (documented at ph_exactlymatchesre):</span>
<span class="plain-syntax">    (- TEXT_TY_Replace_RE(REGEXP_BLOB,{-by-reference:T},{-by-reference:find},0,{phrase options},1) -).</span>
<span class="plain-syntax">To decide if (T - text) matches the/-- regular expression (find - text),</span>
<span class="plain-syntax">    case insensitively</span>
<span class="plain-syntax">    (documented at ph_matchesre):</span>
<span class="plain-syntax">    (- TEXT_TY_Replace_RE(REGEXP_BLOB,{-by-reference:T},{-by-reference:find},0,{phrase options}) -).</span>
<span class="plain-syntax">To decide what text is text matching regular expression</span>
<span class="plain-syntax">    (documented at ph_matchtext):</span>
<span class="plain-syntax">    (- TEXT_TY_RE_GetMatchVar(0) -).</span>
<span class="plain-syntax">To decide what text is text matching subexpression (N - a number)</span>
<span class="plain-syntax">    (documented at ph_subexpressiontext):</span>
<span class="plain-syntax">    (- TEXT_TY_RE_GetMatchVar({N}) -).</span>
<span class="plain-syntax">To decide what number is the first index of subexpression (n - a number)</span>
<span class="plain-syntax">    (documented at ph_refirstindex):</span>
<span class="plain-syntax">    (- (RE_Subexpressions--&gt;{n}--&gt;RE_DATA2 ~= 0) * (RE_Subexpressions--&gt;{n}--&gt;RE_DATA1 + 1) -).</span>
<span class="plain-syntax">To decide what number is the last index of subexpression (n - a number)</span>
<span class="plain-syntax">    (documented at ph_relastindex):</span>
<span class="plain-syntax">    (- ((RE_Subexpressions--&gt;{n}--&gt;RE_DATA2 &gt;= 0) * RE_Subexpressions--&gt;{n}--&gt;RE_DATA2) -).</span>
<span class="plain-syntax">To decide what number is the length of subexpression (n - a number)</span>
<span class="plain-syntax">    (documented at ph_relength):</span>
<span class="plain-syntax">    (- (RE_Subexpressions--&gt;{n}--&gt;RE_DATA2 - RE_Subexpressions--&gt;{n}--&gt;RE_DATA1) -).</span>
<span class="plain-syntax">To decide what number is number of times (T - text) matches the/-- regular expression</span>
<span class="plain-syntax">    (find - text),case insensitively</span>
<span class="plain-syntax">    (documented at ph_nummatchesre):</span>
<span class="plain-syntax">    (- TEXT_TY_Replace_RE(REGEXP_BLOB,{-by-reference:T},{-by-reference:find},1,{phrase options}) -).</span>
<span class="plain-syntax">To replace the regular expression (find - text) in (T - text) with</span>
<span class="plain-syntax">    (replace - text), case insensitively</span>
<span class="plain-syntax">    (documented at ph_replacere):</span>
<span class="plain-syntax">    (- TEXT_TY_Replace_RE(REGEXP_BLOB, {-lvalue-by-reference:T}, {-by-reference:find},</span>
<span class="plain-syntax">        {-by-reference:replace}, {phrase options}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP38" class="paragraph-anchor"></a><b>&#167;38. </b>  Casing of text.</p>
<p>See test case <code>BIP-TextCasing</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 4 - Casing of Text</span>

<span class="plain-syntax">To decide what text is (T - text) in lower case</span>
<span class="plain-syntax">    (documented at ph_lowercase):</span>
<span class="plain-syntax">    (- TEXT_TY_CharactersToCase({-new:text}, {-by-reference:T}, 0) -).</span>
<span class="plain-syntax">To decide what text is (T - text) in upper case</span>
<span class="plain-syntax">    (documented at ph_uppercase):</span>
<span class="plain-syntax">    (- TEXT_TY_CharactersToCase({-new:text}, {-by-reference:T}, 1) -).</span>
<span class="plain-syntax">To decide what text is (T - text) in title case</span>
<span class="plain-syntax">    (documented at ph_titlecase):</span>
<span class="plain-syntax">    (- TEXT_TY_CharactersToCase({-new:text}, {-by-reference:T}, 2) -).</span>
<span class="plain-syntax">To decide what text is (T - text) in sentence case</span>
<span class="plain-syntax">    (documented at ph_sentencecase):</span>
<span class="plain-syntax">    (- TEXT_TY_CharactersToCase({-new:text}, {-by-reference:T}, 3) -).</span>
<span class="plain-syntax">To decide if (T - text) is in lower case</span>
<span class="plain-syntax">    (documented at ph_inlower):</span>
<span class="plain-syntax">    (- TEXT_TY_CharactersOfCase({-by-reference:T}, 0) -).</span>
<span class="plain-syntax">To decide if (T - text) is in upper case</span>
<span class="plain-syntax">    (documented at ph_inupper):</span>
<span class="plain-syntax">    (- TEXT_TY_CharactersOfCase({-by-reference:T}, 1) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP39" class="paragraph-anchor"></a><b>&#167;39. Adaptive text.</b>  See test case <code>BIP-AdaptiveText</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 5 - Adaptive Text</span>

<span class="plain-syntax">To say infinitive of (V - a verb)</span>
<span class="plain-syntax">    (documented at phs_infinitive):</span>
<span class="plain-syntax">    (- {V}(1); -).</span>
<span class="plain-syntax">To say past participle of (V - a verb)</span>
<span class="plain-syntax">    (documented at phs_pastpart):</span>
<span class="plain-syntax">    (- {V}(2); -).</span>
<span class="plain-syntax">To say present participle of (V - a verb)</span>
<span class="plain-syntax">    (documented at phs_prespart):</span>
<span class="plain-syntax">    (- {V}(3); -).</span>

<span class="plain-syntax">To say adapt (V - verb)</span>
<span class="plain-syntax">    (documented at phs_adapt):</span>
<span class="plain-syntax">    (- {V}(CV_POS, PNToVP(), story_tense); -).</span>
<span class="plain-syntax">To say adapt (V - verb) in (T - grammatical tense)</span>
<span class="plain-syntax">    (documented at phs_adaptt):</span>
<span class="plain-syntax">    (- {V}(CV_POS, PNToVP(), {T}); -).</span>
<span class="plain-syntax">To say adapt (V - verb) from (P - narrative viewpoint)</span>
<span class="plain-syntax">    (documented at phs_adaptv):</span>
<span class="plain-syntax">    (- {V}(CV_POS, {P}, story_tense); -).</span>
<span class="plain-syntax">To say adapt (V - verb) in (T - grammatical tense) from (P - narrative viewpoint)</span>
<span class="plain-syntax">    (documented at phs_adaptvt):</span>
<span class="plain-syntax">    (- {V}(CV_POS, {P}, {T}); -).</span>
<span class="plain-syntax">To say negate (V - verb)</span>
<span class="plain-syntax">    (documented at phs_negate):</span>
<span class="plain-syntax">    (- {V}(CV_NEG, PNToVP(), story_tense); -).</span>
<span class="plain-syntax">To say negate (V - verb) in (T - grammatical tense)</span>
<span class="plain-syntax">    (documented at phs_negatet):</span>
<span class="plain-syntax">    (- {V}(CV_NEG, PNToVP(), {T}); -).</span>
<span class="plain-syntax">To say negate (V - verb) from (P - narrative viewpoint)</span>
<span class="plain-syntax">    (documented at phs_negatev):</span>
<span class="plain-syntax">    (- {V}(CV_NEG, {P}, story_tense); -).</span>
<span class="plain-syntax">To say negate (V - verb) in (T - grammatical tense) from (P - narrative viewpoint)</span>
<span class="plain-syntax">    (documented at phs_negatevt):</span>
<span class="plain-syntax">    (- {V}(CV_NEG, {P}, {T}); -).</span>

<span class="plain-syntax">To decide which relation of objects is meaning of (V - a verb): (- {V}(CV_MEANING) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP40" class="paragraph-anchor"></a><b>&#167;40. Data Structures.</b>  Inform provides three main data structures: tables, lists, and relations,
which we will take in that order.</p>
<p>Tables mimic tables of data as seen in books or scientific papers. Note that
changing a table entry is not something defined here as a phrase: the
ever-powerful &quot;now&quot; can do that. But changing something to a non-value --
or &quot;blanking&quot; it -- requires specialist phrases.</p>
<p>See test case <code>BIP-Tables</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Chapter 6 - Data Structures</span>

<span class="plain-syntax">Section 1 - Tables</span>

<span class="plain-syntax">To choose a/the/-- row (N - number) in/from (T - table name)</span>
<span class="plain-syntax">    (documented at ph_chooserow):</span>
<span class="plain-syntax">    (- {-my:ct_0} = {T}; {-my:ct_1} = {N}; -).</span>
<span class="plain-syntax">To choose a/the/-- row with (TC - K valued table column) of (w - value of kind K)</span>
<span class="plain-syntax">    in/from (T - table name)</span>
<span class="plain-syntax">    (documented at ph_chooserowwith):</span>
<span class="plain-syntax">    (- {-my:ct_0} = {T}; {-my:ct_1} = TableRowCorr(ct_0, {TC}, {w}); -).</span>
<span class="plain-syntax">To choose a/the/-- blank row in/from (T - table name)</span>
<span class="plain-syntax">    (documented at ph_chooseblankrow):</span>
<span class="plain-syntax">    (- {-my:ct_0} = {T}; {-my:ct_1} = TableBlankRow(ct_0); -).</span>
<span class="plain-syntax">To choose a/the/-- random row in/from (T - table name)</span>
<span class="plain-syntax">    (documented at ph_chooserandomrow):</span>
<span class="plain-syntax">    (- {-my:ct_0} = {T}; {-my:ct_1} = TableRandomRow(ct_0); -).</span>
<span class="plain-syntax">To decide which number is number of rows in/from (T - table name)</span>
<span class="plain-syntax">    (documented at ph_numrows):</span>
<span class="plain-syntax">    (- TableRows({T}) -).</span>
<span class="plain-syntax">To decide which number is number of blank rows in/from (T - table name)</span>
<span class="plain-syntax">    (documented at ph_numblank):</span>
<span class="plain-syntax">    (- TableBlankRows({T}) -).</span>
<span class="plain-syntax">To decide which number is number of filled rows in/from (T - table name)</span>
<span class="plain-syntax">    (documented at ph_numfilled):</span>
<span class="plain-syntax">    (- TableFilledRows({T}) -).</span>
<span class="plain-syntax">To decide if there is (TR - table-reference)</span>
<span class="plain-syntax">    (documented at ph_thereis):</span>
<span class="plain-syntax">    (- ({-reference-exists:TR}) -).</span>
<span class="plain-syntax">To decide if there is no (TR - table-reference)</span>
<span class="plain-syntax">    (documented at ph_thereisno):</span>
<span class="plain-syntax">    (- ({-reference-exists:TR} == false) -).</span>
<span class="plain-syntax">To blank out (tr - table-reference)</span>
<span class="plain-syntax">    (documented at ph_blankout):</span>
<span class="plain-syntax">    (- {-by-reference-blank-out:tr}; -).</span>
<span class="plain-syntax">To blank out the/-- whole row</span>
<span class="plain-syntax">    (documented at ph_blankoutrow):</span>
<span class="plain-syntax">    (- TableBlankOutRow({-my:ct_0}, {-my:ct_1}); -).</span>
<span class="plain-syntax">To blank out the/-- whole (TC - table column) in/from/of (T - table name)</span>
<span class="plain-syntax">    (documented at ph_blankoutcol):</span>
<span class="plain-syntax">    (- TableBlankOutColumn({T}, {TC}); -).</span>
<span class="plain-syntax">To blank out the/-- whole of (T - table name)</span>
<span class="plain-syntax">    (documented at ph_blankouttable):</span>
<span class="plain-syntax">    (- TableBlankOutAll({T}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP41" class="paragraph-anchor"></a><b>&#167;41. </b>  These four are for debugging purposes only, and are used in the same test
case. &quot;Showme the contents of ...&quot; is not a text substitution, for efficiency
reasons: for a large table it could produce a gargantuan output, and in a
story file with memory constraints, one might not want to store that in a
text variable.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">To showme the contents of (T - table name)</span>
<span class="plain-syntax">    (documented at ph_showmetable):</span>
<span class="plain-syntax">    (- TableDebug({T}); -).</span>
<span class="plain-syntax">To say the/-- current table row</span>
<span class="plain-syntax">    (documented at phs_currenttablerow):</span>
<span class="plain-syntax">    (- TableRowDebug({-my:ct_0}, {-my:ct_1}); -).</span>
<span class="plain-syntax">To say row (N - number) in/from (T - table name)</span>
<span class="plain-syntax">    (documented at phs_tablerow):</span>
<span class="plain-syntax">    (- TableRowDebug({T}, {N}); -).</span>
<span class="plain-syntax">To say (TC - table column) in/from (T - table name)</span>
<span class="plain-syntax">    (documented at phs_tablecolumn):</span>
<span class="plain-syntax">    (- TableColumnDebug({T}, {TC}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP42" class="paragraph-anchor"></a><b>&#167;42. </b>  Sorting.</p>
<p>See test case <code>BIP-TableSort</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 2 - Sorting Tables</span>

<span class="plain-syntax">To sort (T - table name) in/into random order</span>
<span class="plain-syntax">    (documented at ph_sortrandom):</span>
<span class="plain-syntax">    (- TableShuffle({T}); -).</span>
<span class="plain-syntax">To sort (T - table name) in/into (TC - table column) order</span>
<span class="plain-syntax">    (documented at ph_sortcolumn):</span>
<span class="plain-syntax">    (- TableSort({T}, {TC}, SORT_ASCENDING); -).</span>
<span class="plain-syntax">To sort (T - table name) in/into reverse (TC - table column) order</span>
<span class="plain-syntax">    (documented at ph_sortcolumnreverse):</span>
<span class="plain-syntax">    (- TableSort({T}, {TC}, SORT_DESCENDING); -).</span>
<span class="plain-syntax">To sort (T - table name) with (cf - phrase (table name, number, number) -&gt; number)</span>
<span class="plain-syntax">    (documented at ph_sorttablephrase):</span>
<span class="plain-syntax">    (- TableSort({T}, 0, SORT_ASCENDING, 0, {cf}--&gt;1); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP43" class="paragraph-anchor"></a><b>&#167;43. Lists.</b>  The following are all for adding and removing values to dynamic lists.</p>
<p>See test case <code>BIP-Lists</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 3 - Lists</span>

<span class="plain-syntax">To add (new entry - K) to (L - list of values of kind K), if absent</span>
<span class="plain-syntax">    (documented at ph_addtolist):</span>
<span class="plain-syntax">    (- LIST_OF_TY_InsertItem({-lvalue-by-reference:L}, {new entry}, 0, 0, {phrase options}); -).</span>

<span class="plain-syntax">To add (new entry - K) at entry (E - number) in/from (L - list of values of kind K), if absent</span>
<span class="plain-syntax">    (documented at ph_addatentry):</span>
<span class="plain-syntax">    (- LIST_OF_TY_InsertItem({-lvalue-by-reference:L}, {new entry}, 1, {E}, {phrase options}); -).</span>

<span class="plain-syntax">To add (LX - list of Ks) to (L - list of values of kind K), if absent</span>
<span class="plain-syntax">    (documented at ph_addlisttolist):</span>
<span class="plain-syntax">    (- LIST_OF_TY_AppendList({-lvalue-by-reference:L}, {-by-reference:LX}, 0, 0, {phrase options}); -).</span>

<span class="plain-syntax">To add (LX - list of Ks) at entry (E - number) in/from (L - list of values of kind K)</span>
<span class="plain-syntax">    (documented at ph_addlistatentry):</span>
<span class="plain-syntax">    (- LIST_OF_TY_AppendList({-lvalue-by-reference:L}, {-by-reference:LX}, 1, {E}, 0); -).</span>

<span class="plain-syntax">To remove (existing entry - K) in/from (L - list of values of kind K), if present</span>
<span class="plain-syntax">    (documented at ph_remfromlist):</span>
<span class="plain-syntax">    (- LIST_OF_TY_RemoveValue({-lvalue-by-reference:L}, {existing entry}, {phrase options}); -).</span>

<span class="plain-syntax">To remove (N - list of Ks) in/from (L - list of values of kind K), if present</span>
<span class="plain-syntax">    (documented at ph_remlistfromlist):</span>
<span class="plain-syntax">    (- LIST_OF_TY_Remove_List({-lvalue-by-reference:L}, {-by-reference:N}, {phrase options}); -).</span>

<span class="plain-syntax">To remove entry (N - number) in/from (L - list of values), if present</span>
<span class="plain-syntax">    (documented at ph_rementry):</span>
<span class="plain-syntax">    (- LIST_OF_TY_RemoveItemRange({-lvalue-by-reference:L}, {N}, {N}, {phrase options}); -).</span>

<span class="plain-syntax">To remove entries (N - number) to (N2 - number) in/from (L - list of values), if present</span>
<span class="plain-syntax">    (documented at ph_rementries):</span>
<span class="plain-syntax">    (- LIST_OF_TY_RemoveItemRange({-lvalue-by-reference:L}, {N}, {N2}, {phrase options}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP44" class="paragraph-anchor"></a><b>&#167;44. </b>  Searching a list is implemented in a somewhat crude way at present, and the
following syntax may later be replaced with a suitable verb &quot;to be listed
in&quot;, so that there's no need to imitate.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">To decide if (N - K) is listed in (L - list of values of kind K)</span>
<span class="plain-syntax">    (documented at ph_islistedin):</span>
<span class="plain-syntax">    (- (LIST_OF_TY_FindItem({-by-reference:L}, {N})) -).</span>

<span class="plain-syntax">To decide if (N - K) is not listed in (L - list of values of kind K)</span>
<span class="plain-syntax">    (documented at ph_isnotlistedin):</span>
<span class="plain-syntax">    (- (LIST_OF_TY_FindItem({-by-reference:L}, {N}) == false) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP45" class="paragraph-anchor"></a><b>&#167;45. </b>  A description is a representation of a set of objects by means of a
predicate (e.g., &quot;open unlocked doors&quot;), and it converts into a list of
current members (in creation order), but there's no reverse process.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">To decide what list of Ks is the list of (D - description of values of kind K)</span>
<span class="plain-syntax">    (documented at ph_listofdesc):</span>
<span class="plain-syntax">    (- {-new-list-of:list of K} -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP46" class="paragraph-anchor"></a><b>&#167;46. </b>  Determining and setting the length:</p>
<p>See test case <code>BIP-ListLength</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 4 - Length of lists</span>

<span class="plain-syntax">To decide what number is the number of entries in/of/from (L - a list of values)</span>
<span class="plain-syntax">    (documented at ph_numberentries):</span>
<span class="plain-syntax">    (- LIST_OF_TY_GetLength({-by-reference:L}) -).</span>
<span class="plain-syntax">To truncate (L - a list of values) to (N - a number) entries/entry</span>
<span class="plain-syntax">    (documented at ph_truncate):</span>
<span class="plain-syntax">    (- LIST_OF_TY_SetLength({-lvalue-by-reference:L}, {N}, -1, 1); -).</span>
<span class="plain-syntax">To truncate (L - a list of values) to the/-- first (N - a number) entries/entry</span>
<span class="plain-syntax">    (documented at ph_truncatefirst):</span>
<span class="plain-syntax">    (- LIST_OF_TY_SetLength({-lvalue-by-reference:L}, {N}, -1, 1); -).</span>
<span class="plain-syntax">To truncate (L - a list of values) to the/-- last (N - a number) entries/entry</span>
<span class="plain-syntax">    (documented at ph_truncatelast):</span>
<span class="plain-syntax">    (- LIST_OF_TY_SetLength({-lvalue-by-reference:L}, {N}, -1, -1); -).</span>
<span class="plain-syntax">To extend (L - a list of values) to (N - a number) entries/entry</span>
<span class="plain-syntax">    (documented at ph_extend):</span>
<span class="plain-syntax">    (- LIST_OF_TY_SetLength({-lvalue-by-reference:L}, {N}, 1); -).</span>
<span class="plain-syntax">To change (L - a list of values) to have (N - a number) entries/entry</span>
<span class="plain-syntax">    (documented at ph_changelength):</span>
<span class="plain-syntax">    (- LIST_OF_TY_SetLength({-lvalue-by-reference:L}, {N}, 0); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP47" class="paragraph-anchor"></a><b>&#167;47. </b>  Easy but useful list operations. Sorting ultimately uses a common sorting
mechanism, in &quot;Sort.i6t&quot;, which handles both lists and tables.</p>
<p>See test case <code>BIP-ListOperations</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 5 - List operations</span>

<span class="plain-syntax">To reverse (L - a list of values)</span>
<span class="plain-syntax">    (documented at ph_reverselist):</span>
<span class="plain-syntax">    (- LIST_OF_TY_Reverse({-lvalue-by-reference:L}); -).</span>
<span class="plain-syntax">To rotate (L - a list of values)</span>
<span class="plain-syntax">    (documented at ph_rotatelist):</span>
<span class="plain-syntax">    (- LIST_OF_TY_Rotate({-lvalue-by-reference:L}, 0); -).</span>
<span class="plain-syntax">To rotate (L - a list of values) backwards</span>
<span class="plain-syntax">    (documented at ph_rotatelistback):</span>
<span class="plain-syntax">    (- LIST_OF_TY_Rotate({-lvalue-by-reference:L}, 1); -).</span>
<span class="plain-syntax">To sort (L - a list of values)</span>
<span class="plain-syntax">    (documented at ph_sortlist):</span>
<span class="plain-syntax">    (- LIST_OF_TY_Sort({-lvalue-by-reference:L}, SORT_ASCENDING); -).</span>
<span class="plain-syntax">To sort (L - a list of values) in/into reverse order</span>
<span class="plain-syntax">    (documented at ph_sortlistreverse):</span>
<span class="plain-syntax">    (- LIST_OF_TY_Sort({-lvalue-by-reference:L}, SORT_DESCENDING); -).</span>
<span class="plain-syntax">To sort (L - a list of values of kind K) with (cf - phrase (K, K) -&gt; number)</span>
<span class="plain-syntax">    (documented at ph_sortlistphrase):</span>
<span class="plain-syntax">    (- LIST_OF_TY_Sort({-lvalue-by-reference:L}, SORT_ASCENDING, 0, 0, {cf}--&gt;1); -).</span>
<span class="plain-syntax">To sort (L - a list of values) in/into random order</span>
<span class="plain-syntax">    (documented at ph_sortlistrandom):</span>
<span class="plain-syntax">    (- LIST_OF_TY_Sort({-lvalue-by-reference:L}, SORT_LIST_RANDOM); -).</span>
<span class="plain-syntax">To sort (L - a list of objects) in/into (P - property) order</span>
<span class="plain-syntax">    (documented at ph_sortlistproperty):</span>
<span class="plain-syntax">    (- LIST_OF_TY_Sort({-lvalue-by-reference:L}, SORT_ASCENDING, {P}, {-property-holds-block-value:P}); -).</span>
<span class="plain-syntax">To sort (L - a list of objects) in/into reverse (P - property) order</span>
<span class="plain-syntax">    (documented at ph_sortlistpropertyreverse):</span>
<span class="plain-syntax">    (- LIST_OF_TY_Sort({-lvalue-by-reference:L}, SORT_DESCENDING, {P}, {-property-holds-block-value:P}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP48" class="paragraph-anchor"></a><b>&#167;48. </b>  Relations are the final data structure given here. In some ways they are
the most fundamental of all, but they're not either set or tested by
procedural phrases -- they lie in the linguistic structure of conditions.
So all we have here are the route-finding phrases:</p>
<p>See test case <code>BIP-Relations</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 6 - Relations</span>

<span class="plain-syntax">To show relation (R - relation)</span>
<span class="plain-syntax">    (documented at ph_showrelation):</span>
<span class="plain-syntax">    (- {-show-me:R}; RelationTest({-by-reference:R}, RELS_SHOW); -).</span>

<span class="plain-syntax">To decide which object is next step via (R - relation of objects)</span>
<span class="plain-syntax">    from (O1 - object) to (O2 - object)</span>
<span class="plain-syntax">    (documented at ph_nextstep):</span>
<span class="plain-syntax">    (- RelationRouteTo({-by-reference:R},{O1},{O2},false) -).</span>
<span class="plain-syntax">To decide which number is number of steps via (R - relation of objects)</span>
<span class="plain-syntax">    from (O1 - object) to (O2 - object)</span>
<span class="plain-syntax">    (documented at ph_numbersteps):</span>
<span class="plain-syntax">    (- RelationRouteTo({-by-reference:R},{O1},{O2},true) -).</span>

<span class="plain-syntax">To decide which list of Ks is list of (name of kind of value K)</span>
<span class="plain-syntax">    that/which/whom (R - relation of Ks to values of kind L) relates</span>
<span class="plain-syntax">    (documented at ph_leftdomain):</span>
<span class="plain-syntax">    (- {-match-left-relation-domain:K:R}RelationTest({-by-reference:R}, RELS_LIST, {-new:list of K}, RLIST_ALL_X) -).</span>

<span class="plain-syntax">To decide which list of Ls is list of (name of kind of value L)</span>
<span class="plain-syntax">    to which/whom (R - relation of values of kind K to Ls) relates</span>
<span class="plain-syntax">    (documented at ph_rightdomain):</span>
<span class="plain-syntax">    (- {-match-right-relation-domain:L:R}RelationTest({-by-reference:R}, RELS_LIST, {-new:list of L}, RLIST_ALL_Y) -). [1]</span>

<span class="plain-syntax">To decide which list of Ls is list of (name of kind of value L)</span>
<span class="plain-syntax">    that/which/whom (R - relation of values of kind K to Ls) relates to</span>
<span class="plain-syntax">    (documented at ph_rightdomain):</span>
<span class="plain-syntax">    (- {-match-right-relation-domain:L:R}RelationTest({-by-reference:R}, RELS_LIST, {-new:list of L}, RLIST_ALL_Y) -). [2]</span>

<span class="plain-syntax">To decide which list of Ks is list of (name of kind of value K) that/which/who</span>
<span class="plain-syntax">    relate to (Y - L) by (R - relation of Ks to values of kind L)</span>
<span class="plain-syntax">    (documented at ph_leftlookuplist):</span>
<span class="plain-syntax">    (- {-match-left-relation-domain:K:R}RelationTest({-by-reference:R}, RELS_LOOKUP_ALL_X, {Y}, {-new:list of K}) -).</span>

<span class="plain-syntax">To decide which list of Ls is list of (name of kind of value L) to which/whom (X - K)</span>
<span class="plain-syntax">    relates by (R - relation of values of kind K to Ls)</span>
<span class="plain-syntax">    (documented at ph_rightlookuplist):</span>
<span class="plain-syntax">    (- {-match-right-relation-domain:L:R}RelationTest({-by-reference:R}, RELS_LOOKUP_ALL_Y, {X}, {-new:list of L}) -). [1]</span>

<span class="plain-syntax">To decide which list of Ls is list of (name of kind of value L)</span>
<span class="plain-syntax">    that/which/whom (X - K) relates to by (R - relation of values of kind K to Ls)</span>
<span class="plain-syntax">    (documented at ph_rightlookuplist):</span>
<span class="plain-syntax">    (- {-match-right-relation-domain:L:R}RelationTest({-by-reference:R}, RELS_LOOKUP_ALL_Y, {X}, {-new:list of L}) -). [2]</span>

<span class="plain-syntax">To decide whether (name of kind of value K) relates to (Y - L) by</span>
<span class="plain-syntax">    (R - relation of Ks to values of kind L)</span>
<span class="plain-syntax">    (documented at ph_ifright):</span>
<span class="plain-syntax">    (- {-match-left-relation-domain:K:R}RelationTest({-by-reference:R}, RELS_LOOKUP_ANY, {Y}, RLANY_CAN_GET_X) -).</span>

<span class="plain-syntax">To decide whether (X - K) relates to (name of kind of value L) by</span>
<span class="plain-syntax">    (R - relation of values of kind K to Ls)</span>
<span class="plain-syntax">    (documented at ph_ifleft):</span>
<span class="plain-syntax">    (- {-match-right-relation-domain:L:R}RelationTest({-by-reference:R}, RELS_LOOKUP_ANY, {X}, RLANY_CAN_GET_Y) -).</span>

<span class="plain-syntax">To decide which K is (name of kind of value K) that/which/who relates to</span>
<span class="plain-syntax">    (Y - L) by (R - relation of Ks to values of kind L)</span>
<span class="plain-syntax">    (documented at ph_leftlookup):</span>
<span class="plain-syntax">    (- {-match-left-relation-domain:K:R}RelationTest({-by-reference:R}, RELS_LOOKUP_ANY, {Y}, RLANY_GET_X) -).</span>

<span class="plain-syntax">To decide which L is (name of kind of value L) to which/whom (X - K)</span>
<span class="plain-syntax">    relates by (R - relation of values of kind K to Ls)</span>
<span class="plain-syntax">    (documented at ph_rightlookup):</span>
<span class="plain-syntax">    (- {-match-right-relation-domain:L:R}RelationTest({-by-reference:R}, RELS_LOOKUP_ANY, {X}, RLANY_GET_Y) -). [1]</span>

<span class="plain-syntax">To decide which L is (name of kind of value L) that/which/whom (X - K)</span>
<span class="plain-syntax">    relates to by (R - relation of values of kind K to Ls)</span>
<span class="plain-syntax">    (documented at ph_rightlookup):</span>
<span class="plain-syntax">    (- {-match-right-relation-domain:L:R}RelationTest({-by-reference:R}, RELS_LOOKUP_ANY, {X}, RLANY_GET_Y) -). [2]</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP49" class="paragraph-anchor"></a><b>&#167;49. Functional Programming.</b>  Here we have the ability to use the name of a function as a value, and to
apply such a function.</p>
<p>See test case <code>BIP-Apply</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Chapter 7 - Functional Programming</span>

<span class="plain-syntax">Section 1 - Applying Functions</span>

<span class="plain-syntax">To decide whether (val - K) matches (desc - description of values of kind K)</span>
<span class="plain-syntax">    (documented at ph_valuematch):</span>
<span class="plain-syntax">    (- {-primitive-definition:description-application} -).</span>

<span class="plain-syntax">To decide what K is (function - phrase nothing -&gt; value of kind K) applied</span>
<span class="plain-syntax">    (documented at ph_applied0):</span>
<span class="plain-syntax">    (- {-primitive-definition:function-application} -).</span>

<span class="plain-syntax">To decide what L is (function - phrase value of kind K -&gt; value of kind L)</span>
<span class="plain-syntax">    applied to (input - K)</span>
<span class="plain-syntax">    (documented at ph_applied1):</span>
<span class="plain-syntax">    (- {-primitive-definition:function-application} -).</span>

<span class="plain-syntax">To decide what M is (function - phrase (value of kind K, value of kind L) -&gt; value of kind M)</span>
<span class="plain-syntax">    applied to (input - K) and (second input - L)</span>
<span class="plain-syntax">    (documented at ph_applied2):</span>
<span class="plain-syntax">    (- {-primitive-definition:function-application} -).</span>

<span class="plain-syntax">To decide what N is (function - phrase (value of kind K, value of kind L, value of kind M) -&gt; value of kind N)</span>
<span class="plain-syntax">    applied to (input - K) and (second input - L) and (third input - M)</span>
<span class="plain-syntax">    (documented at ph_applied3):</span>
<span class="plain-syntax">    (- {-primitive-definition:function-application} -).</span>

<span class="plain-syntax">To apply (function - phrase nothing -&gt; nothing)</span>
<span class="plain-syntax">    (documented at ph_apply0):</span>
<span class="plain-syntax">    (- {-primitive-definition:function-application}; -).</span>

<span class="plain-syntax">To apply (function - phrase value of kind K -&gt; nothing)</span>
<span class="plain-syntax">    to (input - K)</span>
<span class="plain-syntax">    (documented at ph_apply1):</span>
<span class="plain-syntax">    (- {-primitive-definition:function-application}; -).</span>

<span class="plain-syntax">To apply (function - phrase (value of kind K, value of kind L) -&gt; nothing)</span>
<span class="plain-syntax">    to (input - K) and (second input - L)</span>
<span class="plain-syntax">    (documented at ph_apply2):</span>
<span class="plain-syntax">    (- {-primitive-definition:function-application}; -).</span>

<span class="plain-syntax">To apply (function - phrase (value of kind K, value of kind L, value of kind M) -&gt; nothing)</span>
<span class="plain-syntax">    to (input - K) and (second input - L) and (third input - M)</span>
<span class="plain-syntax">    (documented at ph_apply3):</span>
<span class="plain-syntax">    (- {-primitive-definition:function-application}; -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP50" class="paragraph-anchor"></a><b>&#167;50. </b>  The standard map, reduce and filter operations found in most functional
programming languages also have Inform analogues.</p>
<p>See test case <code>BIP-Map</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 2 - Working with Lists</span>

<span class="plain-syntax">To decide what list of L is (function - phrase K -&gt; value of kind L) applied to (original list - list of values of kind K)</span>
<span class="plain-syntax">    (documented at ph_appliedlist):</span>
<span class="plain-syntax">    let the result be a list of Ls;</span>
<span class="plain-syntax">    repeat with item running through the original list:</span>
<span class="plain-syntax">        let the mapped item be the function applied to the item;</span>
<span class="plain-syntax">        add the mapped item to the result;</span>
<span class="plain-syntax">    decide on the result.</span>

<span class="plain-syntax">To decide what K is the (function - phrase (K, K) -&gt; K) reduction of (original list - list of values of kind K)</span>
<span class="plain-syntax">    (documented at ph_reduction):</span>
<span class="plain-syntax">    let the total be a K;</span>
<span class="plain-syntax">    let the count be 0;</span>
<span class="plain-syntax">    repeat with item running through the original list:</span>
<span class="plain-syntax">        increase the count by 1;</span>
<span class="plain-syntax">        if the count is 1, now the total is the item;</span>
<span class="plain-syntax">        otherwise now the total is the function applied to the total and the item;</span>
<span class="plain-syntax">    decide on the total.</span>

<span class="plain-syntax">To decide what list of K is the filter to (criterion - description of Ks) of</span>
<span class="plain-syntax">    (full list - list of values of kind K)</span>
<span class="plain-syntax">    (documented at ph_filter):</span>
<span class="plain-syntax">    let the filtered list be a list of K;</span>
<span class="plain-syntax">    repeat with item running through the full list:</span>
<span class="plain-syntax">        if the item matches the criterion:</span>
<span class="plain-syntax">            add the item to the filtered list;</span>
<span class="plain-syntax">    decide on the filtered list.</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP51" class="paragraph-anchor"></a><b>&#167;51. Rulebooks and Activities.</b>  Firing off activities:</p>
<p>See test case <code>BIP-Activities</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Chapter 8 - Rulebooks and Activities</span>

<span class="plain-syntax">Section 1 - Carrying out Activities</span>

<span class="plain-syntax">To carry out the (A - activity on nothing) activity</span>
<span class="plain-syntax">    (documented at ph_carryout):</span>
<span class="plain-syntax">    (- CarryOutActivity({A}); -).</span>
<span class="plain-syntax">To carry out the (A - activity on value of kind K) activity with (val - K)</span>
<span class="plain-syntax">    (documented at ph_carryoutwith):</span>
<span class="plain-syntax">    (- CarryOutActivity({A}, {val}); -).</span>
<span class="plain-syntax">To continue the activity</span>
<span class="plain-syntax">    (documented at ph_continueactivity):</span>
<span class="plain-syntax">    (- rfalse; -) - in to only.</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP52" class="paragraph-anchor"></a><b>&#167;52. </b>  Advanced activity phrases: for setting up one's own activities structured
around I7 source text. People tend not to use this much, and perhaps that's
a good thing, but it does open up possibilities, and it's good for
retro-fitting onto extensions to make them more customisable.</p>
<p>These are really only useful in an activity-rich environment, in any case.
See the documentation example <code>AntSensitiveSunglasses</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 2 - Advanced Activities</span>

<span class="plain-syntax">To begin the (A - activity on nothing) activity</span>
<span class="plain-syntax">    (documented at ph_beginactivity):</span>
<span class="plain-syntax">    (- BeginActivity({A}); -).</span>
<span class="plain-syntax">To begin the (A - activity on value of kind K) activity with (val - K)</span>
<span class="plain-syntax">    (documented at ph_beginactivitywith):</span>
<span class="plain-syntax">    (- BeginActivity({A}, {val}); -).</span>
<span class="plain-syntax">To decide whether handling (A - activity) activity</span>
<span class="plain-syntax">    (documented at ph_handlingactivity):</span>
<span class="plain-syntax">    (- (~~(ForActivity({A}))) -).</span>
<span class="plain-syntax">To decide whether handling (A - activity on value of kind K) activity with (val - K)</span>
<span class="plain-syntax">    (documented at ph_handlingactivitywith):</span>
<span class="plain-syntax">    (- (~~(ForActivity({A}, {val}))) -).</span>
<span class="plain-syntax">To end the (A - activity on nothing) activity</span>
<span class="plain-syntax">    (documented at ph_endactivity):</span>
<span class="plain-syntax">    (- EndActivity({A}); -).</span>
<span class="plain-syntax">To end the (A - activity on value of kind K) activity with (val - K)</span>
<span class="plain-syntax">    (documented at ph_endactivitywith):</span>
<span class="plain-syntax">    (- EndActivity({A}, {val}); -).</span>
<span class="plain-syntax">To abandon the (A - activity on nothing) activity</span>
<span class="plain-syntax">    (documented at ph_abandonactivity):</span>
<span class="plain-syntax">    (- AbandonActivity({A}); -).</span>
<span class="plain-syntax">To abandon the (A - activity on value of kind K) activity with (val - K)</span>
<span class="plain-syntax">    (documented at ph_abandonactivitywith):</span>
<span class="plain-syntax">    (- AbandonActivity({A}, {val}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP53" class="paragraph-anchor"></a><b>&#167;53. </b>  Here are four different ways to invoke a rule or rulebook:</p>
<p>See test case <code>BIP-Rules</code>.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 3 - Following Rules</span>

<span class="plain-syntax">To follow (RL - a rule)</span>
<span class="plain-syntax">    (documented at ph_follow):</span>
<span class="plain-syntax">    (- FollowRulebook({RL}); -).</span>
<span class="plain-syntax">To follow (RL - value of kind K based rule producing a value) for (V - K)</span>
<span class="plain-syntax">    (documented at ph_followfor):</span>
<span class="plain-syntax">    (- FollowRulebook({RL}, {V}, true); -).</span>
<span class="plain-syntax">To follow (RL - a nothing based rule)</span>
<span class="plain-syntax">    (documented at ph_follow):</span>
<span class="plain-syntax">    (- FollowRulebook({RL}); -).</span>
<span class="plain-syntax">To decide what K is the (name of kind K) produced by (RL - rule producing a value of kind K)</span>
<span class="plain-syntax">    (documented at ph_producedby):</span>
<span class="plain-syntax">    (- ResultOfRule({RL}, 0, true, {-strong-kind:K}) -).</span>
<span class="plain-syntax">To decide what L is the (name of kind L) produced by (RL - value of kind K based rule</span>
<span class="plain-syntax">    producing a value of kind L) for (V - K)</span>
<span class="plain-syntax">    (documented at ph_producedbyfor):</span>
<span class="plain-syntax">    (- ResultOfRule({RL}, {V}, true, {-strong-kind:L}) -).</span>
<span class="plain-syntax">To decide what K is the (name of kind K) produced by (RL - nothing based rule producing a value of kind K)</span>
<span class="plain-syntax">    (documented at ph_producedby):</span>
<span class="plain-syntax">    (- ResultOfRule({RL}, 0, true, {-strong-kind:K}) -).</span>
<span class="plain-syntax">To abide by (RL - a rule)</span>
<span class="plain-syntax">    (documented at ph_abide):</span>
<span class="plain-syntax">    (- if (FollowRulebook({RL})) rtrue; -) - in to only.</span>
<span class="plain-syntax">To abide by (RL - value of kind K based rule producing a value) for (V - K)</span>
<span class="plain-syntax">    (documented at ph_abidefor):</span>
<span class="plain-syntax">    (- if (FollowRulebook({RL}, {V}, true)) rtrue; -) - in to only.</span>
<span class="plain-syntax">To abide by (RL - a nothing based rule)</span>
<span class="plain-syntax">    (documented at ph_abide):</span>
<span class="plain-syntax">    (- if (FollowRulebook({RL})) rtrue; -) - in to only.</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP54" class="paragraph-anchor"></a><b>&#167;54. </b>  Rules return <code>true</code> to indicate a decision, which could be either a success
or a failure, and optionally may also return a value. If they return <code>false</code>,
there's no decision.</p>
<p>See test case <code>BIP-Rules</code> once again.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 4 - Success and Failure</span>

<span class="plain-syntax">To make no decision</span>
<span class="plain-syntax">    (documented at ph_nodecision): (- rfalse; -) - in to only.</span>
<span class="plain-syntax">To rule succeeds</span>
<span class="plain-syntax">    (documented at ph_succeeds):</span>
<span class="plain-syntax">    (- RulebookSucceeds(); rtrue; -) - in to only.</span>
<span class="plain-syntax">To rule fails</span>
<span class="plain-syntax">    (documented at ph_fails):</span>
<span class="plain-syntax">    (- RulebookFails(); rtrue; -) - in to only.</span>
<span class="plain-syntax">To rule succeeds with result (val - a value)</span>
<span class="plain-syntax">    (documented at ph_succeedswith):</span>
<span class="plain-syntax">    (- RulebookSucceeds({-strong-kind:rule-return-kind},{-return-value-from-rule:val}); rtrue; -) - in to only.</span>
<span class="plain-syntax">To decide if rule succeeded</span>
<span class="plain-syntax">    (documented at ph_succeeded):</span>
<span class="plain-syntax">    (- (RulebookSucceeded()) -).</span>
<span class="plain-syntax">To decide if rule failed</span>
<span class="plain-syntax">    (documented at ph_failed):</span>
<span class="plain-syntax">    (- (RulebookFailed()) -).</span>
<span class="plain-syntax">To decide which rulebook outcome is the outcome of the rulebook</span>
<span class="plain-syntax">    (documented at ph_rulebookoutcome):</span>
<span class="plain-syntax">    (- (ResultOfRule()) -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP55" class="paragraph-anchor"></a><b>&#167;55. Basic IO.</b>  Basic input/output phrases, that mostly used to be in the Basic Screen Effects extension.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Chapter 9 - Basic Input/Output</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP56" class="paragraph-anchor"></a><b>&#167;56. </b>  Some basic visual effects, which may or may not be rendered the way the user
hopes: that's partly up to the virtual machine, unfortunately.</p>
<p>See test case <code>BIP-SayFonts</code>, though since <code>intest</code> runs on plain text only,
you may need to run this in the Inform application to be convinced.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 1 - Saying Fonts and Visual Effects</span>

<span class="plain-syntax">To say bold type -- running on</span>
<span class="plain-syntax">    (documented at phs_bold):</span>
<span class="plain-syntax">    (- style bold; -).</span>
<span class="plain-syntax">To say italic type -- running on</span>
<span class="plain-syntax">    (documented at phs_italic):</span>
<span class="plain-syntax">    (- style underline; -).</span>
<span class="plain-syntax">To say roman type -- running on</span>
<span class="plain-syntax">    (documented at phs_roman):</span>
<span class="plain-syntax">    (- style roman; -).</span>
<span class="plain-syntax">To say fixed letter spacing -- running on</span>
<span class="plain-syntax">    (documented at phs_fixedspacing):</span>
<span class="plain-syntax">    (- font off; -).</span>
<span class="plain-syntax">To say variable letter spacing -- running on</span>
<span class="plain-syntax">    (documented at phs_varspacing):</span>
<span class="plain-syntax">    (- font on; -).</span>

<span class="plain-syntax">To say reverse mode -- running on:</span>
<span class="plain-syntax">    (- VM_SetReverseMode(1); -).</span>
<span class="plain-syntax">To say reverse mode off -- running on:</span>
<span class="plain-syntax">    (- VM_SetReverseMode(0); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP57" class="paragraph-anchor"></a><b>&#167;57. </b>  Basic colours are supported in both architectures, but RGB colours are only
supported in Glulx.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 2 - Basic Colours</span>

<span class="plain-syntax">To set the foreground/-- colour/color/-- to (C - basic colour):</span>
<span class="plain-syntax">    (- VM_SetWindowColours({C}, BASIC_COLOUR_CURRENT); -).</span>

<span class="plain-syntax">To say (C - basic colour) letters:</span>
<span class="plain-syntax">    (- VM_SetWindowColours({C}, BASIC_COLOUR_CURRENT); -).</span>

<span class="plain-syntax">To set the background colour/color/-- to (C - basic colour):</span>
<span class="plain-syntax">    (- VM_SetWindowColours(BASIC_COLOUR_CURRENT, {C}); -).</span>

<span class="plain-syntax">To reset the screen/window colours/colors:</span>
<span class="plain-syntax">    (- VM_SetWindowColours(BASIC_COLOUR_DEFAULT, BASIC_COLOUR_DEFAULT); -).</span>

<span class="plain-syntax">To say default colours/colors:</span>
<span class="plain-syntax">    (- VM_SetWindowColours(BASIC_COLOUR_DEFAULT, BASIC_COLOUR_DEFAULT); -).</span>

<span class="plain-syntax">Section 3 - RGB Colours (for Glulx only)</span>

<span class="plain-syntax">RGB colour is a kind of value.</span>
<span class="plain-syntax">#&lt;red level&gt;&lt;green level&gt;&lt;blue level&gt; specifies a RGB colour with parts</span>
<span class="plain-syntax">    red level (2 hexadecimal digits),</span>
<span class="plain-syntax">    green level (2 hexadecimal digits) and</span>
<span class="plain-syntax">    blue level (2 hexadecimal digits).</span>

<span class="plain-syntax">To set the foreground/-- colour/color/-- to (C - RGB colour):</span>
<span class="plain-syntax">    (- VM_SetWindowColours({C}, BASIC_COLOUR_CURRENT); -).</span>

<span class="plain-syntax">To say (C - RGB colour) letters:</span>
<span class="plain-syntax">    (- VM_SetWindowColours({C}, BASIC_COLOUR_CURRENT); -).</span>

<span class="plain-syntax">To set the background colour/color/-- to (C - RGB colour):</span>
<span class="plain-syntax">    (- VM_SetWindowColours(BASIC_COLOUR_CURRENT, {C}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP58" class="paragraph-anchor"></a><b>&#167;58. </b>  Some basic window phrases, which are supported by both the Z-Machine and Glulx.
(See the Glk Foundations for Glk-specific phrases.)</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 4 - Basic Window Effects</span>

<span class="plain-syntax">To clear the/-- screen:</span>
<span class="plain-syntax">    (- VM_ClearScreen(0); -).</span>

<span class="plain-syntax">To clear only/-- the/-- main screen:</span>
<span class="plain-syntax">    (- VM_ClearScreen(2); -).</span>

<span class="plain-syntax">To clear only/-- the/-- status line:</span>
<span class="plain-syntax">    (- VM_ClearScreen(1); -).</span>

<span class="plain-syntax">To decide what number is the/-- screen height:</span>
<span class="plain-syntax">    (- VM_ScreenHeight() -).</span>

<span class="plain-syntax">To decide what number is the/-- screen width:</span>
<span class="plain-syntax">    (- VM_ScreenWidth() -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP59" class="paragraph-anchor"></a><b>&#167;59. </b>  Pausing the game.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 5 - Pausing the game</span>

<span class="plain-syntax">[ Exclude navigation keys ]</span>
<span class="plain-syntax">To wait for any key:</span>
<span class="plain-syntax">    while 1 is 1:</span>
<span class="plain-syntax">        let code be the code of the next pressed key;</span>
<span class="plain-syntax">        if code is:</span>
<span class="plain-syntax">            -- the down key:</span>
<span class="plain-syntax">                next;</span>
<span class="plain-syntax">            -- the page down key:</span>
<span class="plain-syntax">                next;</span>
<span class="plain-syntax">            -- the page up key:</span>
<span class="plain-syntax">                next;</span>
<span class="plain-syntax">            -- the up key:</span>
<span class="plain-syntax">                next;</span>
<span class="plain-syntax">            -- unicode U+003F [?, which might be used for an unknown character]:</span>
<span class="plain-syntax">                next;</span>
<span class="plain-syntax">            -- otherwise:</span>
<span class="plain-syntax">                break;</span>

<span class="plain-syntax">[ Technically the space or return key ]</span>
<span class="plain-syntax">To wait for the/-- SPACE key/bar:</span>
<span class="plain-syntax">    while 1 is 1:</span>
<span class="plain-syntax">        let code be the code of the next pressed key;</span>
<span class="plain-syntax">        if code is:</span>
<span class="plain-syntax">            -- unicode U+0020 [space]:</span>
<span class="plain-syntax">                break;</span>
<span class="plain-syntax">            -- the return key:</span>
<span class="plain-syntax">                break;</span>

<span class="plain-syntax">To pause the game/story:</span>
<span class="plain-syntax">    say "[paragraph break]Please press SPACE to continue.";</span>
<span class="plain-syntax">    wait for the space key;</span>
<span class="plain-syntax">    clear the screen;</span>

<span class="plain-syntax">To stop the game/story abruptly:</span>
<span class="plain-syntax">    (- quit; -).</span>

<span class="plain-syntax">To show the/-- current quotation:</span>
<span class="plain-syntax">    (- ClearBoxedText(); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP60" class="paragraph-anchor"></a><b>&#167;60. </b>  Keyboard input phrases.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 6 - Keyboard Input</span>

<span class="plain-syntax">To decide what unicode character is the code of the next pressed key:</span>
<span class="plain-syntax">    (- VM_KeyChar() -).</span>

<span class="plain-syntax">To prompt the player to enter a line of text:</span>
<span class="plain-syntax">    (- VM_ReadKeyboard(buffer2); -).</span>

<span class="plain-syntax">To say the/-- player's text input:</span>
<span class="plain-syntax">    (- VM_PrintBuffer(buffer2); -).</span>

</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP61" class="paragraph-anchor"></a><b>&#167;61. </b>  Function keys.
Keyboard function keys are defined as unicode character constants. A mix of
actual control codes, unicode characters which kind of represent the keys, and
private use area codes.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">

<span class="plain-syntax">The delete key is always unicode U+0008. [Both the Z-Machine and Glulx standards call it the delete key, even though backspace is perhaps more accurate.]</span>
<span class="plain-syntax">The down key is always unicode U+2193.</span>
<span class="plain-syntax">The end key is always unicode U+21F2.</span>
<span class="plain-syntax">The escape key is always unicode U+001B.</span>
<span class="plain-syntax">The f1 key is always unicode U+EF01.</span>
<span class="plain-syntax">The f2 key is always unicode U+EF02.</span>
<span class="plain-syntax">The f3 key is always unicode U+EF03.</span>
<span class="plain-syntax">The f4 key is always unicode U+EF04.</span>
<span class="plain-syntax">The f5 key is always unicode U+EF05.</span>
<span class="plain-syntax">The f6 key is always unicode U+EF06.</span>
<span class="plain-syntax">The f7 key is always unicode U+EF07.</span>
<span class="plain-syntax">The f8 key is always unicode U+EF08.</span>
<span class="plain-syntax">The f9 key is always unicode U+EF09.</span>
<span class="plain-syntax">The f10 key is always unicode U+EF0A.</span>
<span class="plain-syntax">The f11 key is always unicode U+EF0B.</span>
<span class="plain-syntax">The f12 key is always unicode U+EF0C.</span>
<span class="plain-syntax">The home key is always unicode U+21F1.</span>
<span class="plain-syntax">The left key is always unicode U+2190.</span>
<span class="plain-syntax">The page down key is always unicode U+21DF.</span>
<span class="plain-syntax">The page up key is always unicode U+21DE.</span>
<span class="plain-syntax">The return key is always unicode U+000A.</span>
<span class="plain-syntax">The right key is always unicode U+2192.</span>
<span class="plain-syntax">The tab key is always unicode U+0009.</span>
<span class="plain-syntax">The unknown key is always unicode U+FFFD.</span>
<span class="plain-syntax">The up key is always unicode U+2191.</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP62" class="paragraph-anchor"></a><b>&#167;62. </b>  Customising the status line.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 7 - The Status Window</span>

<span class="plain-syntax">To redraw the/-- status bar/line/window:</span>
<span class="plain-syntax">    (- DrawStatusLine(); -).</span>

<span class="plain-syntax">The status window table is a table-name that varies.</span>
<span class="plain-syntax">The status window table variable translates into Inter as "status_window_table".</span>

<span class="plain-syntax">To fill/redraw the/-- status bar/line/window with (new status table - a table-name), once only:</span>
<span class="plain-syntax">    let old status window table be the status window table;</span>
<span class="plain-syntax">    now the status window table is new status table;</span>
<span class="plain-syntax">    redraw the status window;</span>
<span class="plain-syntax">    if once only:</span>
<span class="plain-syntax">        now the status window table is the old status window table;</span>

<span class="plain-syntax">To move the status bar/line/window cursor to row (row - number) and/-- column/col (col - number):</span>
<span class="plain-syntax">    (- VM_MoveCursorInStatusLine({row}, {col}); -).</span>

<span class="plain-syntax">To set the status bar/line/window to (rows - number) row/rows:</span>
<span class="plain-syntax">    (- VM_StatusLineHeight({rows}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP63" class="paragraph-anchor"></a><b>&#167;63. External Files.</b>  Inform has a quirky level of support for file-handling, which comes out of what
the Glulx virtual machine will support.</p>
<p>See test case <code>BIP-Files-G</code>, which has no Z-machine counterpart.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Chapter 10 - External Files (not for Z-machine)</span>

<span class="plain-syntax">Section 1 - Files of Text</span>

<span class="plain-syntax">To write (T - text) to (FN - external file)</span>
<span class="plain-syntax">    (documented at ph_writetext):</span>
<span class="plain-syntax">    (- FileIO_PutContents({FN}, {T}, false); -).</span>
<span class="plain-syntax">To append (T - text) to (FN - external file)</span>
<span class="plain-syntax">    (documented at ph_appendtext):</span>
<span class="plain-syntax">    (- FileIO_PutContents({FN}, {T}, true); -).</span>
<span class="plain-syntax">To say text of (FN - external file)</span>
<span class="plain-syntax">    (documented at ph_saytext):</span>
<span class="plain-syntax">    (- FileIO_PrintContents({FN}); say__p = 1; -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP64" class="paragraph-anchor"></a><b>&#167;64. </b>  See test case <code>BIP-FilesOfTables-G</code>, which has no Z-machine counterpart.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 2 - Files of Data</span>

<span class="plain-syntax">To read (filename - external file) into (T - table name)</span>
<span class="plain-syntax">    (documented at ph_readtable):</span>
<span class="plain-syntax">    (- FileIO_GetTable({filename}, {T}); -).</span>
<span class="plain-syntax">To write (filename - external file) from (T - table name)</span>
<span class="plain-syntax">    (documented at ph_writetable):</span>
<span class="plain-syntax">    (- FileIO_PutTable({filename}, {T}); -).</span>
</pre>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP65" class="paragraph-anchor"></a><b>&#167;65. </b>  These are hardly used phrases which are difficult to test convincingly
in our framework, since they defend against independent Inform programs
simultaneously trying to access the same file.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Section 3 - File Handling</span>

<span class="plain-syntax">To decide if (filename - external file) exists</span>
<span class="plain-syntax">    (documented at ph_fileexists):</span>
<span class="plain-syntax">    (- (FileIO_Exists({filename}, false)) -).</span>
<span class="plain-syntax">To decide if ready to read (filename - external file)</span>
<span class="plain-syntax">    (documented at ph_fileready):</span>
<span class="plain-syntax">    (- (FileIO_Ready({filename}, false)) -).</span>
<span class="plain-syntax">To mark (filename - external file) as ready to read</span>
<span class="plain-syntax">    (documented at ph_markfileready):</span>
<span class="plain-syntax">    (- FileIO_MarkReady({filename}, true); -).</span>
<span class="plain-syntax">To mark (filename - external file) as not ready to read</span>
<span class="plain-syntax">    (documented at ph_markfilenotready):</span>
<span class="plain-syntax">    (- FileIO_MarkReady({filename}, false); -).</span>
</pre>
<p class="commentary firstcommentary"><a id="SP66" class="paragraph-anchor"></a><b>&#167;66. Use Options.</b> </p>

<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">Chapter 11 - Use Options</span>

<span class="plain-syntax">Section 1 - Numerical Value</span>

<span class="plain-syntax">To decide what number is the numerical value of (U - a use option):</span>
<span class="plain-syntax">    (- USE_OPTION_VALUES--&gt;({U}) -).</span>
</pre>
<nav role="progress"><div class="progresscontainer">
    <ul class="progressbar"><li class="progressprev"><a href="msdf.html">&#10094;</a></li><li class="progresssection"><a href="prmbl.html">prmbl</a></li><li class="progresssection"><a href="msdf.html">msdf</a></li><li class="progresscurrent">phdf</li><li class="progresssection"><a href="gag.html">gag</a></li><li class="progresssection"><a href="addf.html">addf</a></li><li class="progressnext"><a href="gag.html">&#10095;</a></li></ul></div>
</nav><!-- End of weave -->

		</main>
	</body>
</html>

