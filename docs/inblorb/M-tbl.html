<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>The Blurb Language</title>
<link href="../docs-assets/Breadcrumbs.css" rel="stylesheet" rev="stylesheet" type="text/css">
		<meta name="viewport" content="width=device-width initial-scale=1">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="Content-Language" content="en-gb">

<link href="../docs-assets/Contents.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Progress.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Navigation.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Fonts.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Base.css" rel="stylesheet" rev="stylesheet" type="text/css">
<script src="http://code.jquery.com/jquery-1.12.4.min.js"
	integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>

<script src="../docs-assets/Bigfoot.js"></script>
<link href="../docs-assets/Bigfoot.css" rel="stylesheet" rev="stylesheet" type="text/css">
<link href="../docs-assets/Colours.css" rel="stylesheet" rev="stylesheet" type="text/css">
		
	</head>
	<body class="commentary-font">
		<nav role="navigation">
		<h1><a href="../index.html"><img src="../docs-assets/Inform.png" height=72> </a></h1>
<ul><li><a href="../index.html">home</a></li>
</ul><h2>Compiler</h2><ul>
<li><a href="../structure.html">structure</a></li>
<li><a href="../inbuildn.html">inbuild</a></li>
<li><a href="../inform7n.html">inform7</a></li>
<li><a href="../intern.html">inter</a></li>
<li><a href="../services.html">services</a></li>
<li><a href="../secrets.html">secrets</a></li>
</ul><h2>Other Tools</h2><ul>
<li><a href="../inblorbn.html">inblorb</a></li>
<li><a href="../inform6.html">inform6</a></li>
<li><a href="../inpolicyn.html">inpolicy</a></li>
</ul><h2>Resources</h2><ul>
<li><a href="../extensions.html">extensions</a></li>
<li><a href="../kits.html">kits</a></li>
</ul><h2>Repository</h2><ul>
<li><a href="https://github.com/ganelson/inform"><img src="../docs-assets/github.png" height=0> github</a></li>
</ul><h2>Related Projects</h2><ul>
<li><a href="https://github.com/ganelson/inweb"><img src="../docs-assets/github.png" height=0> inweb</a></li>
<li><a href="https://github.com/ganelson/intest"><img src="../docs-assets/github.png" height=0> intest</a></li>
</ul>
		</nav>
		<main role="main">
		<!-- Weave of 'The Blurb Language' generated by inweb -->
<div class="breadcrumbs">
    <ul class="crumbs"><li><a href="../index.html">Home</a></li><li><a href="index.html">inblorb</a></li><li><a href="index.html#M">Manual</a></li><li><b>The Blurb Language</b></li></ul></div>
<p class="purpose">A specification for the Blurb language, which describes how to package up a work of interactive fiction.</p>

<ul class="toc"><li><a href="M-tbl.html#SP1">&#167;1. What Blurb is</a></li><li><a href="M-tbl.html#SP2">&#167;2. Some simple examples</a></li><li><a href="M-tbl.html#SP7">&#167;7. Specification of the Blurb language</a></li></ul><hr class="tocbar">

<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP1" class="paragraph-anchor"></a><b>&#167;1. What Blurb is.</b>  &quot;Blurb&quot; is a mini-language for specifying how the materials in a work
of IF should be packaged up for release. It was originally codified in 2001
as a standard way to describe how a blorb file should be put together, but
it was extended in 2005 and again in 2008 so that it could also organise
accompanying files released along with the blorb.</p>
<p>The original Blurb language was documented in chapter 43 of the DM4
(i.e., the &quot;Inform Designer's Manual&quot;, fourth edition, 2001); for clarity,
we will call that language &quot;Blurb 2001&quot;. Today's Blurb language is a little
different. Some features of Blurb 2001 are deprecated and no longer used,
while numerous other syntaxes are new. Because of this the DM4 specification
is no longer useful, so we will give a full description below of Blurb as
it currently stands.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP2" class="paragraph-anchor"></a><b>&#167;2. Some simple examples.</b>  This first script instructs Inblorb to carry out its mission -- it makes a
simple Blorb wrapping up a story file with bibliographic data, but nothing
more, and nothing else is released.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    storyfile "/Users/gnelson/Examples/Zinc.inform/Build/output.ulx" include</span>
<span class="plain-syntax">    ifiction "/Users/gnelson/Examples/Zinc.inform/Metadata.iFiction" include</span>
</pre>
<div class="lsmarkdown">
<p>These two lines tell Inblorb to include the story file and the iFiction
record respectively.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP3" class="paragraph-anchor"></a><b>&#167;3. </b>  A more ambitious Blorb can be made like so:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    storyfile leafname "Audiophilia.gblorb"</span>
<span class="plain-syntax">    storyfile "/Users/gnelson/Examples/Audiophilia.inform/Build/output.ulx" include</span>
<span class="plain-syntax">    ifiction "/Users/gnelson/Examples/Audiophilia.inform/Metadata.iFiction" include</span>
<span class="plain-syntax">    cover "/Users/gnelson/Examples/Audiophilia Materials/Cover.png"</span>
<span class="plain-syntax">    picture 1 "/Users/gnelson/Examples/Audiophilia Materials/Cover.png"</span>
<span class="plain-syntax">    sound 3 "/Users/gnelson/Examples/Audiophilia Materials/Sounds/Powermac.aiff"</span>
<span class="plain-syntax">    sound 4 "/Users/gnelson/Examples/Audiophilia Materials/Sounds/Bach.ogg"</span>
</pre>
<div class="lsmarkdown">
<p>The cover image is included only once, but declaring it as picture 1 makes it
available to the story file for display internally as well as externally.
Resource ID 2, apparently skipped, is in fact the story file.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP4" class="paragraph-anchor"></a><b>&#167;4. </b>  And here's a very short script, which makes Inblorb generate a solution
file from the Skein of a project:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    project folder "/Users/gnelson/Examples/Zinc.inform"</span>
<span class="plain-syntax">    release to "/Users/gnelson/Examples/Zinc Materials/Release"</span>
<span class="plain-syntax">    solution</span>
</pre>
<div class="lsmarkdown">
<p>This time no blorb file is made. The opening line tells Inblorb which Inform
project we're dealing with, allowing it to look at the various files inside --
its Skein, for instance, which is used to create a solution. The second line
tells Inblorb where to put all of its output -- everything it makes. Only
the third line directly causes Inblorb to do anything.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP5" class="paragraph-anchor"></a><b>&#167;5. </b>  More ambitiously, this time we'll make a website for a project, but again
without making a blorb:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    project folder "/Users/gnelson/Examples/Audiophilia.inform"</span>
<span class="plain-syntax">    release to "/Users/gnelson/Examples/Audiophilia Materials/Release"</span>
<span class="plain-syntax">    placeholder [IFID] = "AD5648BA-18A2-48A6-9554-4F6C53484824"</span>
<span class="plain-syntax">    placeholder [RELEASE] = "1"</span>
<span class="plain-syntax">    placeholder [YEAR] = "2009"</span>
<span class="plain-syntax">    placeholder [TITLE] = "Audiophilia"</span>
<span class="plain-syntax">    placeholder [AUTHOR] = "Graham Nelson"</span>
<span class="plain-syntax">    placeholder [BLURB] = "A test project for sound effect production."</span>
<span class="plain-syntax">    template path "/Users/gnelson/Library/Inform/Templates"</span>
<span class="plain-syntax">    css</span>
<span class="plain-syntax">    website "Standard"</span>
</pre>
<div class="lsmarkdown">
<p>The first novelty here is the setting of placeholders. These are named pieces
of text which appear on the website being generated: where the text &quot;[RELEASE]&quot;
appears in the template, Inblorb writes the value we've set for it, in this
case &quot;1&quot;. Some of these values look like numbers, but to Inblorb they all
hold text. A few placeholder names are reserved by Inblorb for its own use,
and it will produce errors if we try to set those, but none of those in
this example is reserved.</p>
<p>Template paths tell Inblorb where to find templates. Any number of these
can be set -- including none at all, but if so then commands needing a
named template, like <code>website</code>, can't be used. Inblorb looks for any
template it needs by trying each template path in turn (the earliest
defined having the highest priority). The blurb files produced by <code>inform7</code>
in its <code>-release</code> mode contain a chain of three template paths, for the
individual project folder, the user's library of installed templates, and
the built-in stock inside the Inform user interface application,
respectively.</p>
<p>The command <code>css</code> tells Inblorb that it is allowed to use CSS styles to
make its web pages more appealing to look at: this results in generally
better HTML, easier to use in other contexts, too.</p>
<p>All of that set things up so that the <code>website</code> command could be used,
which actually does something -- it creates a website in the release-to
location, taking its design from the template named. If we were to add
any of these commands --</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    source public</span>
<span class="plain-syntax">    solution public</span>
<span class="plain-syntax">    ifiction public</span>
</pre>
<div class="lsmarkdown">
<p>-- then the website would be graced with these additions.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP6" class="paragraph-anchor"></a><b>&#167;6. </b>  The previous examples all involved Inform projects, but Inblorb can also
deal with stand-alone files of Inform source text -- notably extensions.
For example, here we make a website out of an extension:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    release to "Test Site"</span>
<span class="plain-syntax">    placeholder [TITLE] = "Locksmith"</span>
<span class="plain-syntax">    placeholder [AUTHOR] = "Emily Short"</span>
<span class="plain-syntax">    placeholder [RUBRIC] = "Implicit handling of doors and... (...and so on)"</span>
<span class="plain-syntax">    template path "/Users/gnelson/Library/Inform/Templates"</span>
<span class="plain-syntax">    css</span>
<span class="plain-syntax">    release file "style.css" from "Extended"</span>
<span class="plain-syntax">    release file "index.html" from "Extended"</span>
<span class="plain-syntax">    release file "Extensions/Emily Short/Locksmith.i7x"</span>
<span class="plain-syntax">    release source "Extensions/Emily Short/Locksmith.i7x" using "extsrc.html" from "Extended"</span>
</pre>
<div class="lsmarkdown">
<p>This time we're using a template called &quot;Extended&quot;, and the script tells
Inblorb exactly what to do with it. The &quot;release file... from...&quot; command
tells Inblorb to extract the named file from this template and to copy it
into the release folder -- if it's a &quot;.html&quot; file, placeholders are
substituted with their values. The simpler form, &quot;release file ...&quot;, just
tells Inblorb to copy that actual file -- here, it puts a copy of the
extension itself into the release folder. The final line produces a run
of pages, in all likelihood, for the source and documentation of the
extension, with the design drawn from &quot;Extended&quot; again.</p>
<p>(&quot;Extended&quot; isn't supplied inside Inform; it's a template we're using to
help generate the Inform website, rather than something meant for end users.
There's nothing very special about it, in any case.)</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP7" class="paragraph-anchor"></a><b>&#167;7. Specification of the Blurb language.</b>  A blorb script should be a text file, using the Unicode character set and
encoded as UTF-8 without a byte order marker -- in other words, a plain
text file. It consists of lines of up to 10239 bytes in length each,
divided by any of the four line-end markers in common use (<code>CR</code>, <code>LF</code>,
<code>CR LF</code> or <code>LF CR</code>), though the same line-end marker should be used
throughout the file.</p>
<p>Each command occupies one and only one line of text. (In Blorb 2001, the
now-deprecated <code>palette</code> command could occupy multiple lines, but Inblorb
will choke on such a usage.) Lines are permitted to be empty or to contain
only white space. Lines whose first non-white-space character is an
exclamation mark are treated as comments, that is, ignored. &quot;White space&quot;
means spaces and tab characters. An entirely empty blurb file, containing
nothing but white space, is perfectly legal though useless.</p>
<p>In the following description:</p>
<p><code>&lt;string&gt;</code> means any text within double-quotes, not
containing either double-quote or new-line characters, of up to 2048 bytes.</p>
<p><code>&lt;filename&gt;</code> means any double-quoted filename.</p>
<p><code>&lt;number&gt;</code> means a decimal number in the range 0 to 32767.</p>
<p><code>&lt;id&gt;</code> means either nothing at all, or a <code>&lt;number&gt;</code>,
or a sequence of up to 20 letters, digits or underscore characters <code>_</code>.</p>
<p><code>&lt;dim&gt;</code> indicates screen dimensions, and must take the form
<code>&lt;number&gt;||x||&lt;number&gt;</code>.</p>
<p><code>&lt;ratio&gt;</code> is a fraction in the form
<code>&lt;number&gt;</code>/<code>&lt;number&gt;</code>. 0/0 is legal but
otherwise both numbers must be positive.</p>
<p><code>&lt;colour&gt;</code> is a colour expressed as six hexadecimal digits,
as in some HTML tags: for instance <code>F5DEB3</code> is the colour of wheat, with red
value <code>F5</code> (on a scale <code>00</code>, none, to <code>FF</code>, full), green value <code>DE</code> and blue
value <code>B3</code>. Hexadecimal digits may be given in either upper or lower case.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP8" class="paragraph-anchor"></a><b>&#167;8. </b>  The full set of commands is as follows. First, core commands for making
a blorb:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    author &lt;string&gt;</span>
</pre>
<div class="lsmarkdown">
<p>Adds this author name to the file.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    copyright &lt;string&gt;</span>
</pre>
<div class="lsmarkdown">
<p>Adds this copyright declaration to the blorb file. It would normally consist of
short text such as &quot;(c) J. Mango Pineapple 2007&quot; rather than a lengthy legal
discourse.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    release &lt;number&gt;</span>
</pre>
<div class="lsmarkdown">
<p>Gives this release number to the blorb file.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    auxiliary &lt;filename&gt; &lt;string&gt;</span>
</pre>
<div class="lsmarkdown">
<p>Tells us that an auxiliary file -- for instance, a PDF manual -- is associated
with the release but will not be embedded directly into the blorb file. For
instance,</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    auxiliary "map.png" "Black Pete's treasure map"</span>
</pre>
<div class="lsmarkdown">
<p>The string should be a textual description of the contents. Every auxiliary
file should have a filename including an extension usefully describing its
format, as in &quot;.png&quot;: if there is no extension, then the auxiliary resource
is assumed to be a mini-website housed in a subfolder with this name.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    ifiction &lt;filename&gt; include</span>
</pre>
<div class="lsmarkdown">
<p>The file should be a valid iFiction record for the work. This is an XML file
specified in the Treaty of Babel, a cross-IF-system standard for specifying
bibliographic data; it will be embedded into the blorb.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    storyfile &lt;filename&gt;    ... unsupported by Inblorb</span>
<span class="plain-syntax">    storyfile &lt;filename&gt; include</span>
</pre>
<div class="lsmarkdown">
<p>Specifies the filename of the story file which these resources are being
attached to. Blorb 2001 allowed for blorbs to be made which held everything
to do with the release except the story file; that way a release
might consist of one story file plus one Blorb file containing its pictures
and sounds. The Blorb file would then contain a note of the release number,
serial code and checksum of the associated story file so that an
interpreter can try to match up the two files at run-time. If the <code>include</code>
option is used, however, the entire story file is embedded within the Blorb
file, so that game and resources are all bound up in one single file.
Inblorb always does this, and does not support <code>storyfile</code> without
<code>include</code>.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP9" class="paragraph-anchor"></a><b>&#167;9. </b>  Second, now-deprecated commands describing our ideal screen display:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    palette 16 bit    ... unsupported by Inblorb</span>
<span class="plain-syntax">    palette 32 bit    ... unsupported by Inblorb</span>
<span class="plain-syntax">    palette { &lt;colour-1&gt; ... &lt;colour-N&gt; }    ... unsupported by Inblorb</span>
</pre>
<div class="lsmarkdown">
<p>Blorb allows designers to signal to the interpreter that a particular
colour-scheme is in use. The first two options simply suggest that the
pictures are best displayed using at least 16-bit, or 32-bit, colours. The
third option specifies colours used in the pictures in terms of
red/green/blue levels, and the braces allow the sequence of colours to
continue over many lines. At least one and at most 256 colours may be
defined in this way. This is only a &quot;clue&quot; to the interpreter; see the
Blorb specification for details.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    resolution &lt;dim&gt;    ... unsupported by Inblorb</span>
<span class="plain-syntax">    resolution &lt;dim&gt; min &lt;dim&gt;    ... unsupported by Inblorb</span>
<span class="plain-syntax">    resolution &lt;dim&gt; max &lt;dim&gt;    ... unsupported by Inblorb</span>
<span class="plain-syntax">    resolution &lt;dim&gt; min &lt;dim&gt; max &lt;dim&gt;    ... unsupported by Inblorb</span>
</pre>
<div class="lsmarkdown">
<p>Allows the designer to signal a preferred screen size, in real pixels, in
case the interpreter should have any choice over this. The minimum and
maximum values are the extreme values at which the designer thinks the game
will be playable: they're optional, the default values being 0 by 0 and
infinity by infinity.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP10" class="paragraph-anchor"></a><b>&#167;10. </b>  Third, commands for adding audiovisual resources:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    sound &lt;id&gt; &lt;filename&gt;</span>
<span class="plain-syntax">    sound &lt;id&gt; &lt;filename&gt; repeat &lt;number&gt;    ... unsupported by Inblorb</span>
<span class="plain-syntax">    sound &lt;id&gt; &lt;filename&gt; repeat forever    ... unsupported by Inblorb</span>
<span class="plain-syntax">    sound &lt;id&gt; &lt;filename&gt; music    ... unsupported by Inblorb</span>
<span class="plain-syntax">    sound &lt;id&gt; &lt;filename&gt; song    ... unsupported by Inblorb</span>
</pre>
<div class="lsmarkdown">
<p>Tells us to take a sound sample from the named file and make it the sound
effect with the given number. Most forms of <code>sound</code> are now deprecated:
repeat information (the number of repeats to be played) is meaningful
only with Z-machine version 3 story files using sound effects, and Inform 7
does not generate those; the <code>music</code> and <code>song</code> keywords specify unusual
sound formats. Nowadays the straight <code>sound</code> command should always
be used regardless of format.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    picture &lt;id&gt; &lt;filename&gt;</span>
<span class="plain-syntax">    picture &lt;id&gt; &lt;filename&gt; scale &lt;ratio&gt;    ... unsupported by Inblorb</span>
<span class="plain-syntax">    picture &lt;id&gt; &lt;filename&gt; scale min &lt;ratio&gt;    ... unsupported by Inblorb</span>
<span class="plain-syntax">    picture &lt;id&gt; &lt;filename&gt; scale &lt;ratio&gt; min &lt;ratio&gt;    ... unsupported by Inblorb</span>
</pre>
<div class="lsmarkdown">
<p>(and so on) is a similar command for images. In 2001, the image file was required
to be a PNG, but it can now alternatively be a JPEG.</p>
<p>Optionally, the designer can specify a scale factor at which the
interpreter will display the image -- or, alternatively, a range of
acceptable scale factors, from which the interpreter may choose its own
scale factor. (By default an image is not scaleable and an interpreter must
display it pixel-for-pixel.) There are three optional scale factors given:
the preferred scale factor, the minimum and the maximum allowed. The
minimum and maximum each default to the preferred value if not given, and
the default preferred scale factor is 1. Scale factors are expressed as
fractions: so for instance,</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    picture "flag/png" scale 3/1</span>
</pre>
<div class="lsmarkdown">
<p>means &quot;always display three times its normal size&quot;, whereas</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    picture "backdrop/png" scale min 1/10 max 8/1</span>
</pre>
<div class="lsmarkdown">
<p>means &quot;you can display this anywhere between one tenth normal size and
eight times normal size, but if possible it ought to be just its normal
size&quot;.</p>
<p>Inblorb does not support any of the scaled forms of <code>picture</code>. As with
the exotic forms of <code>sound</code>, they now seem pass'e. We no longer need to
worry too much about the size of the blorb file, nor about screens with
very low resolution; an iPhone today has a screen resolution close to that
of a typical desktop of 2001.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    cover &lt;filename&gt;</span>
</pre>
<div class="lsmarkdown">
<p>specifies that this is the cover art; it must also be declared with a
<code>picture</code> command in the usual way, and must have picture ID 1.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP11" class="paragraph-anchor"></a><b>&#167;11. </b>  Fourth, a command for adding static internal data files:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    data &lt;id&gt; &lt;filename&gt; type &lt;format&gt;</span>
</pre>
<div class="lsmarkdown">
<p>Tells us to take the given data file and embed it into the blorb so that its
contents can be read whenever the story is played. The &quot;format&quot; here can be
either <code>TEXT</code> or <code>BINA</code>, meaning plain text or binary data.</p>
<p>Exactly what <code>TEXT</code> means will depend on how the story file wants to read
the file, but the convention used by Inform is that it should be UTF-8 plain
text with Unix line breaks.</p>
<p>Similarly, by <code>BINA</code> Inform understands a sequence of big-endian four-byte
data words.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP12" class="paragraph-anchor"></a><b>&#167;12. </b>  Three commands help us to specify locations.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    project folder &lt;filename&gt;</span>
</pre>
<div class="lsmarkdown">
<p>Tells Inblorb to look for associated resources, such as the Skein file,
within this Inform project.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    release to &lt;filename&gt;</span>
</pre>
<div class="lsmarkdown">
<p>Tells Inblorb that all of its output should go into this folder. (Well,
except that the blorb file itself will be written to the location specified
in the command line arguments, but see the description above of how Inblorb
then contrives to move it.) The folder must already exist, and Inblorb
won't create it. Under some circumstances Inform will seem to be creating
the release folder if it doesn't already exist, but that's always the work
of <code>inform7</code>, not Inblorb.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    template path &lt;filename&gt;</span>
</pre>
<div class="lsmarkdown">
<p>Sets a search path for templates -- a folder in which to look for them. There
can be any number of template paths set, and Inblorb checks them in order
of declaration (i.e., most important first).</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP13" class="paragraph-anchor"></a><b>&#167;13. </b>  Next we come to commands for specifying what Inblorb should release.
At present it has seven forms of output: Blorb file, solution file, source
text, iFiction record, miscellaneous file, website and interpreter.</p>
<p>No explicit single command causes a Blorb file to be generated; it will be
made automatically if one of the above commands to include the story file,
pictures, etc., is present in the script, and otherwise not generated.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    solution</span>
<span class="plain-syntax">    solution public</span>
</pre>
<div class="lsmarkdown">
<p>causes a solution file to be generated in the release folder. The mechanism
for this is described in &quot;Writing with Inform&quot;. The difference between
the two commands affects only a website also being made, if one is: a
public solution will be included in its links, thus being made available
to the public who read the website.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    ifiction</span>
<span class="plain-syntax">    ifiction public</span>
</pre>
<div class="lsmarkdown">
<p>is similar, but for the iFiction record of the project.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    source</span>
<span class="plain-syntax">    source public</span>
</pre>
<div class="lsmarkdown">
<p>is again similar, but here there's a twist. If the source is public, then
Inblorb doesn't just include it on a website: it generates multiple HTML
pages to show it off in HTML form, as well as including the plain text
original.</p>
<p>Miscellaneous files can be released like so:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    release file &lt;filename&gt;</span>
</pre>
<div class="lsmarkdown">
<p>Here Inblorb acts as no more than a file-copy utility; a verbatim copy of
the named file is placed in the release folder.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP14" class="paragraph-anchor"></a><b>&#167;14. </b>  Finally we come to web pages.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    css</span>
</pre>
<div class="lsmarkdown">
<p>enables the use of CSS-defined styles within the HTML generated by Inblorb.
This has an especially marked effect when Inblorb is generating HTML
versions of Inform source text, and is a good thing. Unless there is
reason not to, every blurb script generating websites ought to contain
this command.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    release file &lt;filename&gt; from &lt;template&gt;</span>
</pre>
<div class="lsmarkdown">
<p>causes the named file to be found from the given template. If it can't be
found in that template, Inblorb tries to find it from a template called
&quot;Standard&quot;. If it isn't there either, or Inblorb can't find any template
called &quot;Standard&quot; in any of its template paths (see above), then an
error message is produced. But if all goes well the file is copied into
the release folder. If it has the file extension &quot;.html&quot; (in lower case,
and using that exact form, i.e., not &quot;.HTM&quot; or some other variation)
then any placeholders in the file will be expanded with their values.
A few reserved placeholders have special effects, causing Inblorb to
expand interesting text in their places -- see &quot;Writing with Inform&quot;
for more on this.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    release source &lt;filename&gt;| using |&lt;filename&gt; from &lt;template&gt;</span>
</pre>
<div class="lsmarkdown">
<p>makes Inblorb convert the Inform source text in the first filename into a
suite of web pages using the style of the given file from the given template.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    website &lt;template&gt;</span>
</pre>
<div class="lsmarkdown">
<p>saves the best until last: it makes a complete website for an Inform project,
using the named template. This means that the CSS file is copied into place
(assuming <code>css</code> is used), the &quot;index.html&quot; is released from the template,
the source of the project is run through <code>release source</code> using &quot;source.html&quot;
from the template (assuming <code>source public</code> is used), and any extra files
specified in the template's &quot;(extras.txt)&quot; are released as well. See
&quot;Writing with Inform&quot; for more.</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP15" class="paragraph-anchor"></a><b>&#167;15. </b>  An optional addition for a website is to incorporate a playable-in-browser
form of the story, by base64-encoding the story file within a Javascript
wrapper, then calling an interpreter such as Parchment.</p>
<p>The encoding part is taken care of by:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    base64 &lt;filename&gt; to &lt;filename&gt;</span>
</pre>
<div class="lsmarkdown">
<p>This performs an RFC 1113-standard encoding on the binary file in (almost
always our story file) into a textual base-64 file out. The file is topped
and tailed with the text in placeholders <code>[BASESIXTYFOURTOP]</code> and <code>[BASESIXTYFOURTAIL]</code>,
allowing Javascript wrapper code to surround the encoded data.</p>
<p>The interpreter itself is copied into place in the Release folder in a
process rather like the construction of a website from a template. The
necessary blurb command is:</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    interpreter &lt;interpreter-name&gt; &lt;vm-letter&gt;</span>
</pre>
<div class="lsmarkdown">
<p>Interpreter names are like template names; Inform often uses &quot;Parchment&quot;.
The VM letter should be &quot;g&quot; if we need this to handle a Glulx story file
(blorbed up), or &quot;z&quot; if we need it to handle a Z-machine story file.
(This needs to be said because Inform doesn't have a way of knowing which
formats a given interpreter can handle; so it has to leave checking to
Inblorb to do. Thus, if an Inform user tries to release a Z-machine-only
interpreter with a Glulx story file, it's Inblorb which issues the error,
not Inform itself.)</p>
</div>
<div class="lsmarkdown">
<p class="commentary firstcommentary"><a id="SP16" class="paragraph-anchor"></a><b>&#167;16. </b>  Finally (really finally this time), three commands to do with the
&quot;status&quot; page, an HTML page written by Inblorb to report back on
what it has done. If requested, this is constructed for reading within
the Inform application -- it is not a valid HTML page in other
contexts, and expects to have access to Javascript functions provided
by Inform, and so on.</p>
</div>
<pre class="displayed-code all-displayed-code code-font">
<span class="plain-syntax">    status &lt;template&gt; &lt;filename&gt;</span>
<span class="plain-syntax">    status alternative &lt;link to Inform documentation&gt;</span>
<span class="plain-syntax">    status instruction &lt;link to Inform source text&gt;</span>
</pre>
<div class="lsmarkdown">
<p>The first simply requests the page to be made. It's made from a single
template file, but in exactly the same way that website pages are generated
from website templates -- that is, placeholders are expanded. The second
filename is where to write the result.</p>
<p>The other two commands allow Inform to insert information which Inblorb
otherwise has no access to: options for fancy release tricks not currently
being used (with links to the documentation on them), and links to source
text &quot;Release along with...&quot; sentences.</p>
</div>
<nav role="progress"><div class="progresscontainer">
    <ul class="progressbar"><li class="progressprev"><a href="M-ui.html">&#10094;</a></li><li class="progresscurrentchapter">M</li><li class="progresssection"><a href="M-ui.html">ui</a></li><li class="progresscurrent">tbl</li><li class="progresssection"><a href="M-rc.html">rc</a></li><li class="progresschapter"><a href="1-bsc.html">1</a></li><li class="progresschapter"><a href="2-bw.html">2</a></li><li class="progresschapter"><a href="3-rls.html">3</a></li><li class="progressnext"><a href="M-rc.html">&#10095;</a></li></ul></div>
</nav><!-- End of weave -->

		</main>
	</body>
</html>

